{"version":3,"sources":["components/Users/users.module.css","components/common/preloader/preloader.module.css","components/common/paginator/paginator.module.css","components/common/preloader/Preloader.js","components/common/paginator/Paginator.js","components/Users/Users.js","components/Users/UsersAPIComponent.js","components/Users/UsersContainer.js"],"names":["module","exports","Preloader","props","isFetching","className","pr","loader","src","preloader","Paginator","portionSize","pagesCount","Math","ceil","totalUsersCount","pageSize","pageMas","i","push","portionCount","useState","portionNumber","setPortionNumber","pg","pageUrl","value","onClick","map","p","onPageChanged","currentPage","active","Users","us","users","usersData","u","users_item","to","id","photos","small","userPhoto","ava","name","status","location","button","followed","disabled","followingProcess","some","unfollowThunk","followThunk","UsersAPIComponent","pageNumber","setCurrentPage","getUsers","this","console","log","React","Component","UsersContainer","connect","state","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingProcess","dispatch","userId","followThunkCreator","unfollowThunkCreator","setCurrentPageAC","getUsersThunkCreator"],"mappings":"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","file":"static/js/4.e6bda697.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"users_users__3LELD\",\"users_item\":\"users_users_item__3nk-Q\",\"ava\":\"users_ava__yQ4cD\",\"status\":\"users_status__QF7-S\",\"location\":\"users_location__3hUBa\",\"button\":\"users_button__3Bsu_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"preloader_loader__2O16Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageUrl\":\"paginator_pageUrl__3N3xw\",\"active\":\"paginator_active__1TNj3\"};","import React from 'react';\r\nimport pr from './preloader.module.css';\r\nimport preloader from '../../../assets/img/preloader.svg'\r\n\r\nfunction Preloader(props) {\r\n    return (\r\n        <div>\r\n            {props.isFetching ? <img className={pr.loader} src={preloader} /> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader","import React, {useState} from 'react';\r\nimport pg from './paginator.module.css';\r\n\r\n\r\nfunction Paginator(props, portionSize = 5) {\r\n\r\n\tlet pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\tlet pageMas = []\r\n\tfor (var i = 1; i <= pagesCount; i++) {\r\n\t\tpageMas.push(i) \r\n\t}\r\n\r\n\r\n\tlet portionCount = Math.ceil(pagesCount / portionSize)\r\n\tlet [portionNumber, setPortionNumber] = useState(1)\r\n\tlet leftPageNumber = (portionNumber - 1) * portionSize + 1\r\n\tlet rightPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n\t\t<div className={pg.pageUrl}>\r\n\t\t\t{portionNumber > 1 ? <button value=\"back\" onClick={setPortionNumber(portionNumber - 1)}></button> : null}\r\n\r\n\t\t\t{pageMas\r\n\t\t\t\t//.filter(p => p >= leftPageNumber && p <= rightPageNumber) || .slice(leftPageNumber, rightPageNumber)   оба варианта не работают почему-то\r\n\t\t\t\t.map( (p) => {\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<span \r\n\t\t\t\t\t\tonClick={ () => { props.onPageChanged(p) } }\r\n\t\t\t\t\t\tclassName={props.currentPage === p && pg.active}>{p}</span>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\r\n\r\n\t\t\t{portionNumber < portionCount ? <button value=\"next\" onClick={setPortionNumber(portionNumber + 1)}></button> : null}\r\n\t\t</div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import React from 'react';\r\nimport us from './users.module.css';\r\n\r\nimport userPhoto from '../../assets/img/ava.png'\r\nimport Preloader from '../common/preloader/Preloader.js'\r\nimport Paginator from '../common/paginator/Paginator.js'\r\n\r\nimport * as axios from 'axios'\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nfunction Users(props) {\r\n\treturn (\r\n\t\t<div className={us.users}>\r\n\t\t\t{props.usersData.map( (u) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={us.users_item}>\r\n\t\t\t\t\t\t<NavLink to={'/profile/' + u.id}>\r\n\t\t\t\t\t\t\t<img src={u.photos.small != null ? u.photos.small : userPhoto} className={us.ava} />\r\n\t\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t\t{u.name}\r\n\r\n\t\t\t\t\t\t{u.status\r\n\t\t\t\t\t\t\t? \t<div className={us.status}>\r\n\t\t\t\t\t\t\t\t\t\"{u.status}\"\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:  <span></span>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<div className={us.location}>\r\n\t\t\t\t\t\t\t{u.location}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={us.button}>\r\n\t\t\t\t\t\t\t{u.followed ? \r\n\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\tdisabled={props.followingProcess.some(id => id === u.id)} \r\n\t\t\t\t\t\t\t\t\tonClick={ () => {\tprops.unfollowThunk(u.id)\t} \r\n\t\t\t\t\t\t\t\t}>Удалить из друзей</button>\r\n\r\n\t\t\t\t\t\t\t\t: <button \r\n\t\t\t\t\t\t\t\t\tdisabled={props.followingProcess.some(id => id === u.id)} \r\n\t\t\t\t\t\t\t\t\tonClick={ () => { props.followThunk(u.id) }\r\n\r\n\t\t\t\t\t\t\t\t}>Добавить в друзья</button>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>)\r\n\t\t\t})}\r\n\r\n\r\n\t\t\t<Paginator {...props} />\r\n\r\n\t\t\t<Preloader\r\n\t\t\t\tisFetching={props.isFetching} />\r\n\t\t\r\n\t\t</div>\t\r\n\t)\t\r\n}\r\n\r\n\r\nexport default Users;","import React from 'react';\r\n\r\nimport userPhoto from '../../assets/img/ava.png'\r\n\r\nimport {usersAPI} from '../../api/api.js'\r\nimport * as axios from 'axios'\r\n\r\n\r\nimport Users from './Users.js'\r\n\r\n\r\n\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tthis.props.setCurrentPage(pageNumber)\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconsole.log(\"render\")\r\n\t\treturn (\r\n\t\t\t<Users\r\n\t\t\t\tusersData={this.props.usersData}\r\n\t\t\t\ttotalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\tonPageChanged={this.onPageChanged}\r\n\t\t\t\tisFetching={this.props.isFetching}\r\n\t\t\t\t\r\n\r\n\t\t\t\tfollowThunk={this.props.followThunk}\r\n\t\t\t\tunfollowThunk={this.props.unfollowThunk}\r\n\r\n\r\n\t\t\t\tfollowingProcess={this.props.followingProcess} />\t\t\t\t\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default UsersAPIComponent;","import React from 'react';\r\n\r\nimport {setCurrentPageAC, getUsersThunkCreator, followThunkCreator, unfollowThunkCreator} from '../../redux/users-reducer.js'\r\nimport {getUsers, getUsersSuperSelector, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingProcess} from '../../redux/users-selectors.js'\r\nimport UsersAPIComponent from './UsersAPIComponent.js'\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusersData: getUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingProcess: getFollowingProcess(state),\r\n\t}\r\n}\r\n\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tfollowThunk: (userId) => { dispatch( followThunkCreator(userId) ) },\r\n\t\tunfollowThunk: (userId) => { dispatch( unfollowThunkCreator(userId) ) },\r\n\r\n\t\tsetCurrentPage: (pageNumber) => { dispatch( setCurrentPageAC(pageNumber) ) },\r\n\r\n\t\tgetUsers: (currentPage, pageSize) => { dispatch( getUsersThunkCreator(currentPage, pageSize) ) }\r\n\t}\r\n}\r\n\r\n\r\nconst UsersContainer = connect(mapStateToProps, mapDispatchToProps)(UsersAPIComponent);\r\n\r\n\r\nexport default UsersContainer"],"sourceRoot":""}