{"version":3,"sources":["components/common/preloader/Preloader.js","components/common/preloader/preloader.module.css","components/common/paginator/Paginator.js","components/common/paginator/paginator.module.css","components/Friends/friends.module.css","components/Friends/Friends.js"],"names":["Preloader","props","isFetching","className","pr","loader","src","preloader","module","exports","Paginator","pagesCount","Math","ceil","totalUsersCount","pageSize","pageMas","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPageNumber","rightPageNumber","pg","pagin","button","value","onClick","filter","p","map","onPageChanged","currentPage","active","Friends_item","fr","friends_item","to","id","photo","ava","name","status","location","Friends","state","friendsData","this","setState","usersAPI","getUsers","then","response","items","totalCount","console","log","isAuth","friendElements","f","key","photos","small","userPhoto","followed","if","friends","length","React","Component","compose","connect","auth"],"mappings":"4GAAA,uDAYeA,IARf,SAAmBC,GACf,OACI,6BACKA,EAAMC,WAAa,yBAAKC,UAAWC,IAAGC,OAAQC,IAAKC,MAAgB,Q,oBCNhFC,EAAOC,QAAU,CAAC,OAAS,4B,+ECqDZC,IAnDf,SAAmBT,GAGjB,IAFA,IAAIU,EAAaC,KAAKC,KAAKZ,EAAMa,gBAAkBb,EAAMc,UACrDC,EAAU,GACLC,EAAI,EAAGA,GAAKN,EAAYM,IAC/BD,EAAQE,KAAKD,GAGf,IAAIE,EAAeP,KAAKC,KAAKF,EAAaV,EAAMmB,aAPxB,EAQgBC,mBAAS,GARzB,mBAQnBC,EARmB,KAQJC,EARI,KASpBC,GAAkBF,EAAgB,GAAKrB,EAAMmB,YAAc,EAC3DK,EAAkBH,EAAgBrB,EAAMmB,YAE5C,OACE,yBAAKjB,UAAWuB,IAAGC,OAChBL,EAAgB,EACf,4BACEnB,UAAWuB,IAAGE,OACdC,MAAM,OACNC,QAAS,kBAAMP,EAAiBD,EAAgB,KAEhD,uBAAGnB,UAAU,kCAEb,KAEHa,EACEe,QAAO,SAACC,GAAD,OAAOA,GAAKR,GAAkBQ,GAAKP,KAC1CQ,KAAI,SAACD,GACJ,OACE,0BACEF,QAAS,WACP7B,EAAMiC,cAAcF,IAEtB7B,UAAWF,EAAMkC,cAAgBH,GAAKN,IAAGU,QAExCJ,MAKRV,EAAgBH,EACf,4BACEhB,UAAWuB,IAAGE,OACdE,QAAS,kBAAMP,EAAiBD,EAAgB,KAEhD,uBAAGnB,UAAU,mCAEb,Q,oBChDVK,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,OAAS,0BAA0B,OAAS,4B,oBCA/FD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,IAAM,qBAAqB,OAAS,wBAAwB,SAAW,0BAA0B,OAAS,0B,wLCU5M,SAAS4B,EAAapC,GACpB,OACE,yBAAKE,UAAWmC,IAAGC,cACjB,kBAAC,IAAD,CAASC,GAAI,YAAcvC,EAAMwC,IAC/B,yBAAKnC,IAAKL,EAAMyC,MAAOvC,UAAWmC,IAAGK,OAEtC1C,EAAM2C,KACP,yBAAKzC,UAAWmC,IAAGO,QAAnB,IAA6B5C,EAAM4C,OAAnC,KACA,yBAAK1C,UAAWmC,IAAGQ,UAAW7C,EAAM6C,W,IAKpCC,E,kDACJ,WAAY9C,GAAQ,IAAD,8BACjB,cAAMA,IACD+C,MAAQ,CACXC,YAAa,GACblC,SAAU,EACVD,gBAAiB,EACjBqB,YAAa,EACbjC,YAAY,GAPG,E,gEAWE,IAAD,OAClBgD,KAAKC,SAAS,CAAEjD,YAAY,IAC5BkD,IACGC,SAASH,KAAKF,MAAMb,YAAae,KAAKF,MAAMjC,UAAU,GACtDuC,MAAK,SAACC,GACL,EAAKJ,SAAS,CACZF,YAAaM,EAASC,MACtB1C,gBAAiByC,EAASE,WAC1BvD,YAAY,IAEdwD,QAAQC,IAAI,EAAKX,Y,+BAKrB,IAA0B,IAAtBE,KAAKjD,MAAM2D,OAAkB,OAAO,kBAAC,IAAD,CAAUpB,GAAG,WAErD,IAAIqB,EAAiBX,KAAKF,MAAMC,YAAYhB,KAAI,SAAC6B,GAC/C,OACE,kBAACzB,EAAD,CACEO,KAAMkB,EAAElB,KACRmB,IAAKD,EAAErB,GACPA,GAAIqB,EAAErB,GACNI,OAAQiB,EAAEjB,OACVC,SAAUgB,EAAEhB,SACZJ,MAAyB,MAAlBoB,EAAEE,OAAOC,MAAgBH,EAAEE,OAAOC,MAAQC,IACjDC,SAAUL,EAAEK,SACZC,GAAIN,EAAErB,QAKZ,OACE,yBAAKtC,UAAWmC,IAAG+B,SAChBnB,KAAKF,MAAM9C,WAAa,KAAO2D,EAC/BX,KAAKF,MAAMC,YAAYqB,OAAS,EAC/B,kBAAC,IAAD,CACExD,gBAAiBoC,KAAKF,MAAMlC,gBAC5BoB,cAAegB,KAAKF,MAAMd,cAC1BC,YAAae,KAAKF,MAAMb,YACxBf,YAAa,EACbL,SAAUmC,KAAKF,MAAMjC,WAErB,KACJ,kBAAC,IAAD,CAAWb,WAAYgD,KAAKF,MAAM9C,kB,GAxDpBqE,IAAMC,WAoEbC,sBAAQC,aAND,SAAC1B,GACrB,MAAO,CACLY,OAAQZ,EAAM2B,KAAKf,WAIRa,CAAkC1B","file":"static/js/3.6e8b6111.chunk.js","sourcesContent":["import React from 'react';\r\nimport pr from './preloader.module.css';\r\nimport preloader from '../../../assets/img/preloader.svg'\r\n\r\nfunction Preloader(props) {\r\n    return (\r\n        <div>\r\n            {props.isFetching ? <img className={pr.loader} src={preloader} /> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"preloader_loader__ap7o6\"};","import React, { useState } from \"react\";\r\nimport pg from \"./paginator.module.css\";\r\n\r\nfunction Paginator(props) {\r\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n  let pageMas = [];\r\n  for (var i = 1; i <= pagesCount; i++) {\r\n    pageMas.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n  let rightPageNumber = portionNumber * props.portionSize;\r\n\r\n  return (\r\n    <div className={pg.pagin}>\r\n      {portionNumber > 1 ? (\r\n        <button\r\n          className={pg.button}\r\n          value=\"back\"\r\n          onClick={() => setPortionNumber(portionNumber - 1)}\r\n        >\r\n          <i className=\"far fa-arrow-alt-circle-left\"></i>\r\n        </button>\r\n      ) : null}\r\n\r\n      {pageMas\r\n        .filter((p) => p >= leftPageNumber && p <= rightPageNumber)\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              onClick={() => {\r\n                props.onPageChanged(p);\r\n              }}\r\n              className={props.currentPage === p && pg.active}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n\r\n      {portionNumber < portionCount ? (\r\n        <button\r\n          className={pg.button}\r\n          onClick={() => setPortionNumber(portionNumber + 1)}\r\n        >\r\n          <i className=\"far fa-arrow-alt-circle-right\"></i>\r\n        </button>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Paginator;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagin\":\"paginator_pagin__dtdRf\",\"active\":\"paginator_active__1GOcB\",\"button\":\"paginator_button__1RWak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"friends_friends__34fBX\",\"friends_item\":\"friends_friends_item__1l1hS\",\"ava\":\"friends_ava__3Awc-\",\"status\":\"friends_status__2z_O-\",\"location\":\"friends_location__F9DOt\",\"button\":\"friends_button__38ael\"};","import React from \"react\";\r\nimport fr from \"./friends.module.css\";\r\nimport userPhoto from \"../../assets/img/ava.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { usersAPI } from \"../../api/api.js\";\r\nimport Preloader from \"../common/preloader/Preloader.js\";\r\nimport Paginator from \"../common/paginator/Paginator.js\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nfunction Friends_item(props) {\r\n  return (\r\n    <div className={fr.friends_item}>\r\n      <NavLink to={\"/profile/\" + props.id}>\r\n        <img src={props.photo} className={fr.ava} />\r\n      </NavLink>\r\n      {props.name}\r\n      <div className={fr.status}>\"{props.status}\"</div>\r\n      <div className={fr.location}>{props.location}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass Friends extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      friendsData: [],\r\n      pageSize: 5,\r\n      totalUsersCount: 0,\r\n      currentPage: 1,\r\n      isFetching: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ isFetching: true });\r\n    usersAPI\r\n      .getUsers(this.state.currentPage, this.state.pageSize, true)\r\n      .then((response) => {\r\n        this.setState({\r\n          friendsData: response.items,\r\n          totalUsersCount: response.totalCount,\r\n          isFetching: false,\r\n        });\r\n        console.log(this.state);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (this.props.isAuth === false) return <Redirect to=\"/login\" />;\r\n\r\n    let friendElements = this.state.friendsData.map((f) => {\r\n      return (\r\n        <Friends_item\r\n          name={f.name}\r\n          key={f.id}\r\n          id={f.id}\r\n          status={f.status}\r\n          location={f.location}\r\n          photo={f.photos.small != null ? f.photos.small : userPhoto}\r\n          followed={f.followed}\r\n          if={f.id}\r\n        />\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className={fr.friends}>\r\n        {this.state.isFetching ? null : friendElements}\r\n        {this.state.friendsData.length > 0 ? (\r\n          <Paginator\r\n            totalUsersCount={this.state.totalUsersCount}\r\n            onPageChanged={this.state.onPageChanged}\r\n            currentPage={this.state.currentPage}\r\n            portionSize={3}\r\n            pageSize={this.state.pageSize}\r\n          />\r\n        ) : null}\r\n        <Preloader isFetching={this.state.isFetching} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps))(Friends);\r\n"],"sourceRoot":""}