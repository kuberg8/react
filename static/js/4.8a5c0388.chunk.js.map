{"version":3,"sources":["components/common/preloader/Preloader.js","components/common/preloader/preloader.module.css","components/common/paginator/Paginator.js","components/common/paginator/paginator.module.css","components/Users/users.module.css","components/Users/Users.js","components/Users/UsersAPIComponent.js"],"names":["Preloader","props","isFetching","className","pr","loader","src","preloader","module","exports","Paginator","pagesCount","Math","ceil","totalUsersCount","pageSize","pageMas","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPageNumber","rightPageNumber","pg","pagin","button","value","onClick","filter","p","map","onPageChanged","currentPage","active","Users","us","users","usersData","u","users_item","to","id","photos","small","userPhoto","ava","name","status","location","followed","disabled","followingProcess","some","unfollowThunk","followThunk","length","UsersAPIComponent","pageNumber","setState","usersAPI","getUsers","state","then","response","items","totalCount","this","React","Component"],"mappings":"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","file":"static/js/4.8a5c0388.chunk.js","sourcesContent":["import React from 'react';\r\nimport pr from './preloader.module.css';\r\nimport preloader from '../../../assets/img/preloader.svg'\r\n\r\nfunction Preloader(props) {\r\n    return (\r\n        <div>\r\n            {props.isFetching ? <img className={pr.loader} src={preloader} /> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"preloader_loader__ap7o6\"};","import React, { useState } from \"react\";\r\nimport pg from \"./paginator.module.css\";\r\n\r\nfunction Paginator(props) {\r\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n  let pageMas = [];\r\n  for (var i = 1; i <= pagesCount; i++) {\r\n    pageMas.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n  let rightPageNumber = portionNumber * props.portionSize;\r\n\r\n  return (\r\n    <div className={pg.pagin}>\r\n      {portionNumber > 1 ? (\r\n        <button\r\n          className={pg.button}\r\n          value=\"back\"\r\n          onClick={() => setPortionNumber(portionNumber - 1)}\r\n        >\r\n          <i className=\"far fa-arrow-alt-circle-left\"></i>\r\n        </button>\r\n      ) : null}\r\n\r\n      {pageMas\r\n        .filter((p) => p >= leftPageNumber && p <= rightPageNumber)\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              onClick={() => {\r\n                props.onPageChanged(p);\r\n              }}\r\n              className={props.currentPage === p && pg.active}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n\r\n      {portionNumber < portionCount ? (\r\n        <button\r\n          className={pg.button}\r\n          onClick={() => setPortionNumber(portionNumber + 1)}\r\n        >\r\n          <i className=\"far fa-arrow-alt-circle-right\"></i>\r\n        </button>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Paginator;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagin\":\"paginator_pagin__dtdRf\",\"active\":\"paginator_active__1GOcB\",\"button\":\"paginator_button__1RWak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"users_users__uBYSP\",\"users_item\":\"users_users_item__1ApVL\",\"ava\":\"users_ava__2zXBZ\",\"status\":\"users_status__2T9J0\",\"location\":\"users_location__5hm6M\",\"button\":\"users_button__31d6P\"};","import React, { useState } from \"react\";\r\nimport us from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/img/ava.png\";\r\nimport Preloader from \"../common/preloader/Preloader.js\";\r\nimport Paginator from \"../common/paginator/Paginator.js\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction Users(props) {\r\n  return (\r\n    <div className={us.users}>\r\n      {props.usersData.map((u) => {\r\n        return (\r\n          <div className={us.users_item}>\r\n            <NavLink to={\"/profile/\" + u.id}>\r\n              <img\r\n                src={u.photos.small != null ? u.photos.small : userPhoto}\r\n                className={us.ava}\r\n              />\r\n            </NavLink>\r\n\r\n            {u.name}\r\n\r\n            {u.status ? (\r\n              <div className={us.status}>\"{u.status}\"</div>\r\n            ) : (\r\n              <span></span>\r\n            )}\r\n\r\n            <div className={us.location}>{u.location}</div>\r\n            <div className={us.button}>\r\n              {u.followed ? (\r\n                <button\r\n                  disabled={props.followingProcess.some((id) => id === u.id)}\r\n                  onClick={() => {\r\n                    props.unfollowThunk(u.id);\r\n                  }}\r\n                >\r\n                  Удалить из друзей\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  disabled={props.followingProcess.some((id) => id === u.id)}\r\n                  onClick={() => {\r\n                    props.followThunk(u.id);\r\n                  }}\r\n                >\r\n                  Добавить в друзья\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      {props.usersData.length > 0 ? (\r\n        <Paginator\r\n          totalUsersCount={props.totalUsersCount}\r\n          onPageChanged={props.onPageChanged}\r\n          currentPage={props.currentPage}\r\n          portionSize={3}\r\n          pageSize={props.pageSize}\r\n        />\r\n      ) : null}\r\n\r\n      <Preloader isFetching={props.isFetching} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport Users from \"./Users.js\";\r\nimport { usersAPI } from \"../../api/api.js\";\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      usersData: [],\r\n      pageSize: 5,\r\n      totalUsersCount: 0,\r\n      currentPage: 1,\r\n      isFetching: false,\r\n      followingProcess: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ isFetching: true });\r\n    usersAPI\r\n      .getUsers(this.state.currentPage, this.state.pageSize)\r\n      .then((response) => {\r\n        this.setState({\r\n          usersData: response.items,\r\n          totalUsersCount: response.totalCount,\r\n          isFetching: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.setState({ isFetching: true, currentPage: pageNumber });\r\n    usersAPI.getUsers(pageNumber, this.state.pageSize).then((response) => {\r\n      this.setState({\r\n        usersData: response.items,\r\n        totalUsersCount: response.totalCount,\r\n        isFetching: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return <Users {...this.state} onPageChanged={this.onPageChanged} />;\r\n  }\r\n}\r\n\r\nexport default UsersAPIComponent;\r\n"],"sourceRoot":""}