{"version":3,"sources":["api/api.js","redux/users-selectors.js","redux/dialogue-reducer.js","redux/users-reducer.js","logo.svg","components/Profile/Info/Info.module.css","components/Links/links.module.css","serviceWorker.js","redux/auth-reducer.js","components/Header/Header.js","components/Header/HeaderAPIComponent.js","components/Header/HeaderContainer.js","components/Links/Links.js","redux/profile-reducer.js","components/Profile/Avatar/Avatar.js","components/Profile/MyPosts/post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Info/status/statusWithHooks.js","components/Profile/Info/Info.js","components/Profile/Profile.js","components/Profile/ProfileAPIComponent.js","components/Profile/ProfileContainer.js","utils/validators.js","components/common/FormsControls/FormsControls.js","components/Login/Login.js","components/Login/LoginContainer.js","components/Friends/Friends.js","redux/friends-reducer.js","components/Friends/FriendsContainer.js","redux/app-reducer.js","hoc/withSuspense.js","redux/redux-store.js","App.js","index.js","assets/img/ava.png","components/Profile/Avatar/avatar.module.css","components/Profile/MyPosts/post/post.module.css","components/Friends/friends.module.css","assets/img/preloader.svg","components/Profile/Info/status/status.module.css","hoc/withAuthRedirect.js","components/Header/header.module.css","components/Profile/profile.module.css","components/Login/login.module.css","components/Profile/MyPosts/MyPost.module.css","components/common/FormsControls/formsControls.module.css"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","saveInfo","info","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","state","users","usersData","getUsersSuperSelector","createSelector","getIsFetching","isFetching","filter","u","followed","getPageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","getFollowingProcess","followingProcess","initialState","dialoguesData","id","name","messagesData","message","addSmsActionCreator","text","type","smsText","dialogueReducer","action","newSms","followAC","unfollowAC","toggleIsFetchingAC","toggleFollowingProcessAC","setCurrentPageAC","pageNumber","getUsersThunkCreator","dispatch","a","items","followThunkCreator","resultCode","unfollowThunkCreator","usersReducer","map","module","exports","Boolean","window","location","hostname","match","captchaUrl","isAuth","setUserDataAC","getCaptchaUrlAC","getUserDataThunkCreator","logoutThunkCreator","getCaptchaURLThunkCreator","url","authReducer","Header","props","className","hd","header","container","onClick","to","HeaderAPIComponent","this","React","Component","HeaderContainer","connect","auth","Links","cl","links","activeClassName","active","item","postsData","likeCounts","userProfile","setStatusAC","getUserProfileThunkCreator","profileReducer","newPost","postText","splice","photos","Avatar","profile","av","box_avatar","avatar","src","large","avaNull","isOwner","onChange","e","target","files","length","button","preloader","Post","st","ava","block","like","deletePost","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","autocomplete","placeholder","component","MyPosts","postsElements","p","key","pt","posts","value","addPost","MyPostsContainer","addPostActionCreator","deletePostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","status_editMode","autoFocus","onBlur","currentTarget","status_item","status_not_yours","ProfileReduxForm","inf","ProfileFormData","about","save","error","Info","fullName","info_item","aboutMe","contacts","instagram","youtube","lookingForAJob","lookingForAJobDescription","edit","initialValues","Profile","col1","col2","ProfileAPIComponent","params","AuthUserId","getUserProfile","refreshProfile","prevProps","prevState","snapshot","log","PureComponent","compose","getStatusThunkCreator","updateStatusThunkCreator","savePhotoThunkCreator","getState","stopSubmit","_error","saveInfoThunkCreator","withRouter","withAuthRedirect","required","Input","input","meta","hasError","touched","fm","maxLength","maxLength20","LoginReduxForm","validate","lg","Login","reg","LoginContainer","loginThunkCreator","Friends_item","fr","friends_item","photo","Friends","friendsData","setFriends","friendElements","f","small","userPhoto","if","friends","friendsReducer","setFriendsAC","initialized","appReducer","withSuspense","Suspense","fallback","reducers","combineReducers","dialogue","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Dialogue","lazy","UsersContainer","App","initializeAppThunkCreator","path","render","ProfileContainer","FriendsContainer","exact","AppContainer","promise","Promise","all","MainApp","basename","process","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.880b33dd.chunk.js","sourcesContent":["import * as axios from 'axios'\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\" : \"b2726463-4ea3-47eb-bcfd-476551e2680d\"\r\n\t}\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance.get(`users?=${currentPage}&count=${pageSize}`)\r\n\t\t.then(response => response.data)\t\t\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t},\r\n\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn(\"!Используйте profileAPI!\")\r\n\t\treturn profileAPI.getProfile(userId)\r\n\t},\t\r\n\r\n}\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/` + userId)\r\n\t},\t\r\n\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/` + userId)\r\n\t},\r\n\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, { status: status})\r\n\t},\r\n\r\n\tsavePhoto(file) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append(\"image\", file)\r\n\t\treturn instance.put(`/profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\r\n\tsaveInfo(info) {\r\n\t\treturn instance.put(`/profile`, info)\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\t\t\r\n\t},\r\n\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`)\t\t\r\n\t}\r\n}","import {createSelector} from \"reselect\"\r\n\r\n\r\n\r\nexport function getUsers(state) {\r\n\treturn state.users.usersData\r\n}\r\n\r\n\r\n/* тема сложные селекторы с библиотекой reselect\r\nexport function getUsersSuper(state)  {\r\n\treturn getUsers(state).filter(u => u.usersData.followed === true)\r\n}\r\n\r\n*/\r\nexport const getUsersSuperSelector = createSelector(getUsers, getIsFetching, (usersData, isFetching) => {\r\n\treturn usersData.filter(u => u.followed === true)\r\n}) \r\n\r\n\r\n\r\n\r\nexport function getPageSize(state) {\r\n\treturn state.users.pageSize\r\n}\r\n\r\n\r\nexport function getTotalUsersCount(state) {\r\n\treturn state.users.totalUsersCount\r\n}\r\n\r\n\r\nexport function getCurrentPage(state) {\r\n\treturn state.users.currentPage\r\n}\r\n\r\nexport function getIsFetching(state) {\r\n\treturn state.users.isFetching\r\n}\r\n\r\n\r\nexport function getFollowingProcess(state) {\r\n\treturn state.users.followingProcess\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","const SEND_SMS = 'SEND-SMS'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tdialoguesData: [\r\n\t\t{id:1, name: \"Alex\"},\r\n\t\t{id:2, name: \"Dima\"},\r\n\t\t{id:3, name: \"Nicita\"},\r\n\t\t{id:4, name: \"Alex\"},\r\n\t\t{id:5, name: \"Dima\"},\r\n\t\t{id:6, name: \"Nicita\"},\r\n\t\t{id:7, name: \"Bob\"},\r\n\t],\r\n\r\n\tmessagesData: [\r\n\t\t{id:1, message: \"hi\"},\r\n\t],\r\n}\r\n\r\n\r\n\r\nfunction dialogueReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === SEND_SMS) {\r\n\t\tlet newSms = {\r\n\t\tid: 2,\r\n\t\tmessage: action.smsText,\r\n\r\n\t\t};\r\n\t\t\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tmessagesData: [...state.messagesData, newSms],\r\n\t\t}\r\n\r\n\t} \r\n\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function addSmsActionCreator (text) {\r\n\treturn {\r\n\t\ttype: SEND_SMS,\r\n\t\tsmsText: text,\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default dialogueReducer;","import {usersAPI} from '../api/api.js'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROCESS = 'TOGGLE-IS-FOLLOWING-PROCRSS'\r\n\r\n\r\n\r\nlet initialState = {\r\n\tusersData:[],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingProcess: [],\r\n}\r\n\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === FOLLOW) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: state.usersData.map( (u) => {\r\n\t\t\t\tif(u.id === action.userId) {\r\n\t\t\t\t\treturn {...u, followed: true}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn u \r\n\t\t\t\t}\r\n\t\t\t}),\r\n\r\n\t\t}\r\n\r\n\t} else if(action.type === UNFOLLOW) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: state.usersData.map( (u) => {\r\n\t\t\t\tif(u.id === action.userId) {\r\n\t\t\t\t\treturn {...u, followed: false}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn u \r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t}\r\n\r\n\t} else if(action.type === SET_USERS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: [ ...action.usersData ],\r\n\t\t}\r\n\r\n\t} else if(action.type === SET_CURRENT_PAGE) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tcurrentPage: action.currentPage,\r\n\t\t}\r\n\r\n\t}else if(action.type === SET_TOTAL_USERS_COUNT) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\ttotalUsersCount: action.totalUsersCount,\r\n\t\t}\r\n\t} else if(action.type === TOGGLE_IS_FETCHING) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tisFetching: action.isFetching\r\n\t\t}\r\n\t} else if(action.type === TOGGLE_IS_FOLLOWING_PROCESS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tfollowingProcess:action.isFetching \r\n\t\t\t? [...state.followingProcess, action.userId]\r\n\t\t\t: state.followingProcess.filter(id => id != action.userId)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction followAC(userId) {\r\n\treturn {\r\n\t\ttype: FOLLOW,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n function unfollowAC(userId) {\r\n\treturn {\r\n\t\ttype: UNFOLLOW,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n\r\nfunction setUsersAC(usersData) {\r\n\treturn {\r\n\t\ttype: SET_USERS,\r\n\t\tusersData,\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction setTotalUsersCountAC(totalCount) {\r\n\treturn {\r\n\t\ttype: SET_TOTAL_USERS_COUNT,\r\n\t\ttotalUsersCount: totalCount\r\n\t}\r\n}\r\n\r\nfunction toggleIsFetchingAC(isFetching) {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FETCHING,\r\n\t\tisFetching\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction toggleFollowingProcessAC(isFetching, userId) {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FOLLOWING_PROCESS,\r\n\t\tisFetching,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function setCurrentPageAC(pageNumber) {\r\n\treturn {\r\n\t\ttype: SET_CURRENT_PAGE,\r\n\t\tcurrentPage: pageNumber,\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleIsFetchingAC(true) )\r\n\r\n\t\tlet data = await usersAPI.getUsers(currentPage, pageSize);\r\n\r\n\t\tdispatch( toggleIsFetchingAC(false) )\r\n\t\tdispatch( setUsersAC(data.items) )\t\r\n\t\tdispatch( setTotalUsersCountAC(40) )\t\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const followThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleFollowingProcessAC(true, userId) )\r\n\r\n\t\tlet response = await usersAPI.follow(userId)\r\n\t\t\t\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch( followAC(userId) )\r\n\t\t}\t\r\n\t\tdispatch( toggleFollowingProcessAC(false, userId) )\r\n\t}\r\n}\r\n\r\n\r\nexport const unfollowThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleFollowingProcessAC(true, userId) )\r\n\r\n\t\tlet response = await usersAPI.unfollow(userId)\r\n\t\t\t\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch( unfollowAC(userId) )\r\n\t\t}\t\r\n\t\tdispatch( toggleFollowingProcessAC(false, userId) )\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"Info_info__13ByE\",\"preloader\":\"Info_preloader__1dcEk\",\"name\":\"Info_name__7yGf2\",\"about\":\"Info_about__CilcP\",\"info_item\":\"Info_info_item__14fQf\",\"edit\":\"Info_edit__20f4T\",\"ProfileFormData\":\"Info_ProfileFormData__1SKb6\",\"animatetop\":\"Info_animatetop__31gPs\",\"save\":\"Info_save__1exzI\",\"error\":\"Info_error__3gLCL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"links\":\"links_links__2GEia\",\"item\":\"links_item__Z0nEf\",\"active\":\"links_active__wvS_0\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {authAPI} from '../api/api.js'\r\nimport {securityAPI} from '../api/api.js'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA'\r\nconst GET_CAPTCHA_URL = 'GET-CAPTCHA-URL'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null, \r\n\tcaptchaUrl: null,\r\n\tisAuth: false,\r\n}\r\n\r\n\r\nfunction authReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === SET_USER_DATA) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t...action.data,\r\n\t\t};\r\n\t} else if(action.type === GET_CAPTCHA_URL) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t...action.captchaUrl,\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction setUserDataAC(id, email, login, isAuth) {\r\n\treturn {\r\n\t\ttype: SET_USER_DATA,\r\n\t\tdata: {id, email, login, isAuth}\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\nfunction getCaptchaUrlAC(captchaUrl) {\r\n\treturn {\r\n\t\ttype: GET_CAPTCHA_URL,\r\n\t\tcaptchaUrl: {captchaUrl}\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\nexport const getUserDataThunkCreator = () => {\r\n\treturn async (dispatch) => {\t\r\n\t\tlet response = await authAPI.me()\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tlet {id, email, login} = response.data.data\r\n\t\t\tdispatch( setUserDataAC(id, email, login, true) )\r\n\t\t}\t\t\t\t\r\n\t} \r\n}\r\n\r\n\r\nexport const loginThunkCreator = (email, password, rememberMe, captcha) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.login(email, password, rememberMe, captcha)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( getUserDataThunkCreator() )\r\n\t\t} else {\r\n\t\t\tif(response.data.resultCode === 10) {\r\n\t\t\t\tdispatch( getCaptchaURLThunkCreator() )\r\n\t\t\t}\r\n\t\t\tdispatch( stopSubmit(\"login\", {_error: \"wrong email or password\"}) )\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport const logoutThunkCreator = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.logout()\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( setUserDataAC(null, null, null, false) )\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const getCaptchaURLThunkCreator = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await securityAPI.getCaptchaUrl()\r\n\t\tlet captchaUrl = response.data.url\r\n\t\tdispatch( getCaptchaUrlAC(captchaUrl) )\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport  hd from './header.module.css';\r\nimport avaNull from '../../assets/img/ava.png'\r\n\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <div className={hd.header}>\r\n    \t<div className={hd.container}>\r\n\t    \t\t<span><b>{props.login ? props.login + \"Book\" : \"OлолешаBook\"}</b></span>\r\n\t    \t\t<span>\r\n\t    \t\t\t{ props.isAuth \r\n            ?\r\n              <div>\r\n                {/*<img src={props.profile.photos.small ? props.profile.photos.small : avaNull} />*/}\r\n                <button onClick={props.logout} className={hd.logout}>Logout</button>\r\n              </div> \r\n            : \r\n              <NavLink to={'/login'}>Login</NavLink> }\r\n\t    \t\t</span>\t\r\n    \t</div>\r\n    \t\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport Header from './Header.js'\r\nimport * as axios from 'axios'\r\n\r\nimport {authAPI} from '../../api/api.js'\r\n\r\n\r\n\r\nclass HeaderAPIComponent extends React.Component {\r\n\trender() {\r\n\t  return (\r\n\t    <Header {...this.props} />\r\n\t  )\r\n\t}\r\n}\r\n\r\nexport default HeaderAPIComponent","import React from 'react';\r\n\r\nimport {logoutThunkCreator} from '../../redux/auth-reducer.js'\r\nimport HeaderAPIComponent from './HeaderAPIComponent.js'\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    \tisAuth: state.auth.isAuth,\r\n    \tlogin: state.auth.login,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    \tlogout: () => { dispatch( logoutThunkCreator() ) }\r\n    }\r\n}\r\n\r\n\r\n//let withUrlDataContainerComponent = withRouter(HeaderAPIComponent)\r\n\r\n\r\nconst HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(HeaderAPIComponent);\r\n\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport  cl from './links.module.css';\r\n\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nfunction Links() {\r\n  return (\r\n    <div className={cl.links}>\r\n        <NavLink to=\"profile\" activeClassName={cl.active}>\r\n        \t<div className={cl.item}>\r\n        \t\tМоя страница\r\n        \t</div>\r\n        </NavLink>\r\n        <NavLink to=\"dialogue\" activeClassName={cl.active}>\r\n        \t<div className={cl.item}>\r\n        \t\tСообщения\r\n        \t</div>\r\n        </NavLink>\r\n        <NavLink to=\"friends\" activeClassName={cl.active}>\r\n            <div className={cl.item}>\r\n                Друзья\r\n            </div>\r\n        </NavLink>        \r\n        <NavLink to=\"Users\" activeClassName={cl.active}>\r\n            <div className={cl.item}>\r\n                Пользователи\r\n            </div>\r\n        </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Links;","import {usersAPI} from '../api/api.js' \r\nimport {profileAPI} from '../api/api.js'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst DELETE_POST = 'DELETE-POST'\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_STATUS = \"SET-STATUS\"\r\nconst SET_PHOTO = \"SET-PHOTO\"\r\nconst SET_INFO = \"SET_INFO\"\r\n\r\n\r\n\r\nlet initialState = {\r\n\tpostsData:[\r\n\t\t{id:1, name: \"Alex\", likeCounts:\"22\", text:\"Погода хорошая\"},\r\n\t\t{id:2, name: \"Dima\", likeCounts:\"10\"},\r\n\t\t{id:3, name: \"Nikita\", likeCounts:\"0\"},\r\n\t],\r\n\r\n\tuserProfile: null,\r\n\r\n\tstatus: \"\",\r\n}\r\n\r\n\r\nfunction profileReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === ADD_POST) {\r\n\t\tlet newPost = {\r\n\t\tid: 0,\r\n\t\tname: \"Rick\",\r\n\t\ttext: action.postText,\r\n\t\tlikeCounts: 0,\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tpostsData: [newPost, ...state.postsData],\r\n\t\t};\r\n\r\n\t}  else if(action.type === DELETE_POST) {\r\n\r\n\t\tstate.postsData.splice(action.id, 1)\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tpostsData: [...state.postsData],\r\n\t\t}\r\n\t} else if(action.type === SET_USER_PROFILE) {\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tuserProfile: action.userProfile,\r\n\t\t}\r\n\t}else if(action.type === SET_STATUS) {\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tstatus: action.status,\r\n\t\t}\r\n\t} else if(action.type === SET_PHOTO) {\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tuserProfile: {...state.userProfile, photos: action.photos}\r\n\t\t}\r\n\t} else if(action.type === SET_INFO) {\r\n\t\t\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tuserProfile: {...state.userProfile, \"???\": action.info}\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function addPostActionCreator (text) {\r\n\treturn {\r\n\t\ttype: ADD_POST,\r\n\t\tpostText: text,\r\n\t}\r\n}\r\n\r\n\r\nexport function deletePostActionCreator (id) {\r\n\treturn {\r\n\t\ttype: DELETE_POST,\r\n\t\tid: id\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction setUserProfileAC (userProfile) {\r\n\treturn {\r\n\t\ttype: SET_USER_PROFILE,\r\n\t\tuserProfile\r\n\t}\r\n}\r\n\r\nfunction setStatusAC(status) {\r\n\treturn {\r\n\t\ttype: SET_STATUS,\r\n\t\tstatus \r\n\t}\r\n}\r\n\r\n\r\nfunction setPhotoAC(photos) {\r\n\treturn {\r\n\t\ttype: SET_PHOTO,\r\n\t\tphotos \r\n\t}\r\n}\r\n\r\nfunction setInfoAC(info) {\r\n\treturn {\r\n\t\ttype: SET_INFO,\r\n\t\tinfo \r\n\t}\r\n}\r\n\r\n\r\nexport const getStatusThunkCreator = (userId) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await profileAPI.getStatus(userId)\r\n\t\tdispatch( setStatusAC(response.data) ) \r\n\t}\r\n}\r\n\r\n\r\nexport const updateStatusThunkCreator = (status) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await profileAPI.updateStatus(status)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( setStatusAC(status) ) \r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const getUserProfileThunkCreator = (userId) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await usersAPI.getProfile(userId)\r\n\t\tdispatch( setUserProfileAC(response.data) ) \r\n\t}\r\n}\r\n\r\n\r\nexport const savePhotoThunkCreator = (file) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await profileAPI.savePhoto(file)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( setPhotoAC(response.data.data.photos) ) \r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport const saveInfoThunkCreator = (info) => {\r\n\treturn async (dispatch, getState) => { \r\n\t\tlet userId = getState().auth.id\r\n\t\tlet response = await profileAPI.saveInfo(info)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( getUserProfileThunkCreator(userId) )  \r\n\t\t} else {\r\n\t\t\tdispatch( stopSubmit(\"profile\", {_error: \"wrong URL\"}) )\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport av from './avatar.module.css';\r\n\r\nimport preloader from '../../../assets/img/preloader.svg'\r\nimport avaNull from '../../../assets/img/ava.png'\r\n\r\n\r\nfunction Avatar(props) {\r\n\r\n\tif(!props.profile) {\r\n\t\treturn (\r\n\t\t\t<div className={av.box_avatar}>\r\n\t\t\t\t<div className={av.avatar}>\r\n\t\t\t\t\t<img src={preloader} />\r\n\t\t\t\t</div>\r\n            </div>\r\n\t\t)\r\n\t} \r\n\r\n\r\n\tlet pushAvatar = (e) => {\r\n\t\tif(e.target.files.length) {\r\n\t\t\tprops.savePhoto(e.target.files[0])\r\n\t\t}\r\n\t}\r\n\r\n  return (\r\n  \t<div>\r\n\t    <div className={av.box_avatar}>\r\n\t \t\t<div className={av.avatar}>\r\n\t \t\t\t<img src={props.profile.photos.large ? props.profile.photos.large : avaNull} />\r\n\t \t\t</div>\r\n\t    </div>\r\n  \t\t<div>\r\n \t\t\t{props.isOwner ? \r\n \t\t\t\t<div>\r\n \t\t\t\t\t<input className={av.file} type=\"file\" onChange={pushAvatar} />\r\n \t\t\t\t\t<button className={av.button}>Загрузить аватарку</button>\r\n \t\t\t\t</div>\r\n \t\t\t\t: null}\r\n \t\t</div>   \t\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Avatar;","import React from 'react';\r\nimport st from './post.module.css'\r\nimport ava from '../../../../assets/img/ava.png'\r\n\r\nfunction Post(props) {\r\n\r\n\tfunction deletePost() {\r\n\t\tprops.deletePost(props.id - 1) \r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={st.post}>\r\n\t\t\t<img className={st.ava} src={ava} />\r\n\t\t\t<div className={st.block}>\r\n\t\t\t\t<div className={st.name}>{props.name}</div>\r\n\t\t\t\t<div>{props.text}</div>\r\n\t\t\t\t<div className={st.like}>{props.likeCounts} like</div>\r\n\t\t\t</div> \r\n\t\t\t{props.isOwner ? <div className={st.delete} onClick={deletePost}></div> : null}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport pt from './MyPost.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\n\r\nimport Post from './post/Post.js'\r\n\r\n\r\n\r\n\r\nfunction PostForm(props) {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\tautocomplete=\"off\" \r\n\t\t\t\t\tplaceholder=\"Что у Вас нового?\" \r\n\t\t\t\t\tname=\"postText\" \r\n\t\t\t\t\tcomponent=\"input\" />\r\n\t\t\t</div>\r\n\t\t\t<button>Опубликовать</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst PostReduxForm = reduxForm({\r\n\tform: 'post'\r\n})(PostForm)\r\n\r\n\r\n\r\n\r\n\r\nfunction MyPosts(props) {\r\n\r\n\tlet postsElements = props.postsData.map( (p) => {\r\n\t\treturn (<Post \r\n\t\t\tname={p.name} \r\n\t\t\tid={p.id} \r\n\t\t\tkey={p.id} \r\n\t\t\ttext={p.text} \r\n\t\t\tlikeCounts={p.likeCounts} \r\n\t\t\tdeletePost={props.deletePost}\r\n\t\t\tisOwner={props.isOwner} />)\r\n\t})\r\n\r\n\r\n\r\n\tfunction AddNewPost(value) {\r\n\t\tprops.addPost(value.postText) \r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className={pt.posts}>\r\n\t\t\t<span className={pt.MyPosts}>\r\n\t\t\t\tМои Посты\r\n\t\t\t\t<PostReduxForm onSubmit={AddNewPost} />\r\n\t\t\t</span>\r\n\t\t\t{postsElements}\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\n\r\nimport {addPostActionCreator, deletePostActionCreator} from '../../../redux/profile-reducer.js'\r\nimport MyPosts from './MyPosts.js'\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tpostsData: state.profile.postsData,\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (text) => { dispatch( addPostActionCreator(text) ) },\r\n\t\tdeletePost: (id) => { dispatch( deletePostActionCreator(id) ) },\r\n\t}\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, {useState, useEffect} from 'react';\r\nimport st from './status.module.css';\r\n\r\n\r\nfunction  ProfileStatusWithHooks(props) {\r\n\r\n\tlet [editMode, setEditMode] = useState(false)\r\n\tlet [status, setStatus] = useState(props.status)\r\n\r\n\r\n\tuseEffect( () => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status])\r\n\r\n\r\n\tlet activateEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t}\r\n\r\n\tlet deactivateEditMode = () => {\r\n\t\tsetEditMode(false)\r\n\t\tprops.updateStatus(status)\r\n\t}\r\n\r\n\tlet onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={st.status}>\r\n\t\t\t{(props.isOwner ? editMode : false) \r\n\t\t\t\t?  \r\n\t\t\t\t<div className={st.status_editMode}>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tonBlur={deactivateEditMode}\r\n\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t\tonChange={onStatusChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t: \r\n\t\t\t\t<div \r\n\t\t\t\t\tclassName={props.isOwner ? st.status_item : st.status_not_yours}\r\n\t\t\t\t\tonClick={activateEditMode} >\r\n\t\t\t\t\t\t{props.status}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\t\t\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React, {useState} from 'react';\r\nimport inf from './Info.module.css';\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\nimport preloader from '../../../assets/img/preloader.svg'\r\nimport ProfileStatus from './status/statusWithHooks.js'\r\n\r\n\r\n\r\n\r\nconst ProfileForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit} className={inf.ProfileFormData}>\r\n\t\t\t<div>\r\n\t\t\t\t<b>Full Name:</b> <Field placeholder=\"Full Name\" autocomplete=\"off\" name=\"fullName\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={inf.about}>\r\n\t\t\t\t<b>Обо мне:</b> <Field placeholder=\"Обо мне\" autocomplete=\"off\" name=\"aboutMe\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<b>Instagram:</b> <Field placeholder=\"Instagram\" autocomplete=\"off\" name=\"contacts.instagram\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<b>YouTube:</b> <Field placeholder=\"YouTube\" autocomplete=\"off\" name=\"contacts.youtube\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<b>Description:</b> <Field placeholder=\"Descriptione\" autocomplete=\"off\" name=\"lookingForAJobDescription\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<b>Looking for a job:</b> <Field name=\"lookingForAJob\" component=\"input\" type=\"checkbox\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button className={inf.save}>Save</button>\r\n\r\n\t\t\t{props.error ?\r\n\t\t\t\t<div className={inf.error}>\r\n\t\t\t\t\t{props.error}\r\n\t\t\t\t</div>\r\n\t\t\t\t: <span></span>}\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\n\r\nconst ProfileReduxForm = reduxForm({\r\n\tform: 'profile'\r\n})(ProfileForm)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Info(props) {\r\n\r\n\tlet [editMode, setEditMode] = useState(false)\r\n\r\n\r\n\tif(!props.profile) {\r\n\t\treturn (\r\n\t\t\t<div className={inf.info}>\r\n\t\t\t\t<img className={inf.preloader} src={preloader} />\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t} \r\n\r\n\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.saveInfo(formData)\r\n\t\tsetEditMode(false)\r\n\t}\t\r\n\r\n\treturn (\r\n\t\t<div className={inf.info}>\r\n\r\n\t\t\t<div className={inf.name}>\r\n\t\t\t\t<b>{props.profile.fullName}</b>\r\n\t\t\t</div>\r\n\r\n\t\t\t<ProfileStatus status={props.status} updateStatus={props.updateStatus} isOwner={props.isOwner} />\r\n\t\t\t\r\n\t\t\t<div className={inf.info_item}>\r\n\t\t\t\t<div className={inf.about}>\r\n\t\t\t\t\t<b>Обо мне:</b> {props.profile.aboutMe ? props.profile.aboutMe : \"---\"}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Instagram:</b> {props.profile.contacts.instagram ? props.profile.contacts.instagram : \"---\"}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>YouTube:</b> {props.profile.contacts.youtube ? props.profile.contacts.youtube : \"---\"}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Looking for a job:</b> {props.profile.lookingForAJob ? \"Yes\" : \"No\"}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{props.profile.lookingForAJob ?\r\n\t\t\t\t\t<div className={inf.about}>\r\n\t\t\t\t\t\t<b>My professional skills:</b> {props.profile.lookingForAJobDescription ? props.profile.lookingForAJobDescription : \"---\"}\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t:\r\n\t\t\t\t\tnull\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{props.isOwner ? <button className={inf.edit} onClick={ () => {setEditMode(true)}}>Edit</button> : null}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\t\t\t{editMode ? <ProfileReduxForm initialValues={props.profile} onSubmit={onSubmit} setEditMode={setEditMode} /> : null}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Info;","import React from 'react';\r\nimport cl from './profile.module.css';\r\n\r\nimport Avatar from './Avatar/Avatar.js'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer.js'\r\nimport Info from './Info/Info.js'\r\n\r\n\r\n\r\nfunction Profile(props) {\r\n  return (\r\n    <div className={cl.Profile}>\r\n    \t<div className={cl.col1}>\r\n    \t\t<Avatar profile={props.profile} isOwner={props.isOwner} savePhoto={props.savePhoto} />\r\n    \t</div>\r\n\r\n    \t<div className={cl.col2}>\r\n    \t\t<Info \r\n                profile={props.profile} \r\n                isOwner={props.isOwner} \r\n                status={props.status} \r\n                updateStatus={props.updateStatus}\r\n                saveInfo={props.saveInfo} />\r\n    \t\t<MyPostsContainer isOwner={props.isOwner} />\r\n    \t</div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Profile;","import React, {PureComponent} from 'react';\r\n\r\nimport Profile from './Profile.js'\r\nimport * as axios from 'axios'\r\n\r\n\r\n\r\n\r\nclass ProfileAPIComponent extends PureComponent {\r\n\r\n\trefreshProfile() {\r\n\t\tlet userId = this.props.match.params.userId\r\n\t\tif(!userId) {\r\n\t\t\tuserId = this.props.AuthUserId\r\n\t\t}\r\n\t\tthis.props.getUserProfile(userId)\r\n\t\tthis.props.getStatus(userId)\t\t\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile()\r\n\t}\r\n\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif(this.props.match.params.userId != prevProps.match.params.userId) {\r\n\t\t\tthis.refreshProfile()\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconsole.log(\"render\")\r\n\t  return (\r\n\t    <Profile {...this.props} /*передает все пропсы разом*/ isOwner={!this.props.match.params.userId} />\r\n\t  )\r\n\t}\r\n}\r\n\r\nexport default ProfileAPIComponent","import React from 'react';\r\n\r\nimport {getUserProfileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator, savePhotoThunkCreator, saveInfoThunkCreator} from '../../redux/profile-reducer.js'\r\nimport ProfileAPIComponent from './ProfileAPIComponent.js'\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect.js'\r\nimport {compose} from 'redux'\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    \tprofile: state.profile.userProfile,\r\n    \tisAuth: state.auth.isAuth,\r\n        status: state.profile.status,\r\n        AuthUserId: state.auth.id\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    \tgetUserProfile: (userId) => { dispatch(getUserProfileThunkCreator(userId) ) },\r\n        getStatus: (userId) => { dispatch(getStatusThunkCreator(userId) ) },\r\n        updateStatus: (status) => { dispatch(updateStatusThunkCreator(status) ) },\r\n        savePhoto: (file) => { dispatch(savePhotoThunkCreator(file) ) },\r\n        saveInfo:(info) => { dispatch(saveInfoThunkCreator(info) )}\r\n    }\r\n}\r\n\r\n\r\n/*\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(ProfileAPIComponent)\r\n\r\n\r\nlet withUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n\r\n\r\nconst ProfileContainer = connect(mapStateToProps, mapDispatchToProps)(withUrlDataContainerComponent);\r\n\r\n\r\nexport default ProfileContainer;\r\n*/\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileAPIComponent);","export function required(value) {\r\n\tif(value) {\r\n\t\treturn undefined\r\n\t} else {\r\n\t\treturn 'error message'\t\t\r\n\t}\t\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif(value.length > maxLength) {\r\n\t\treturn `Max length is ${maxLength} symbols`\r\n\t} else {\r\n\t\treturn undefined\t\t\r\n\t}\t\r\n}","import React from 'react'\r\nimport fm from './formsControls.module.css'\r\n\r\n\r\nexport function Input({input, meta, ...props}) {\r\n\r\n\tlet hasError = meta.touched && meta.error\r\n\treturn(\r\n\t\t<div className={fm.form + \" \" + (hasError ? fm.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t<input {...input} {...props} />\r\n\t\t\t</div>\r\n\t\t\t{hasError ? <span>{meta.error}</span> : <span></span>}\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react';\r\nimport lg from './login.module.css';\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {required, maxLengthCreator} from '../../utils/validators.js'\r\nimport {Input} from '../common/FormsControls/FormsControls.js'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nlet maxLength20 = maxLengthCreator(20)\r\n\r\n\r\nfunction LoginForm(props) {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tvalidate={[required, maxLength20]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\" \r\n\t\t\t\t\tname=\"password\" \r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tvalidate={[required, maxLength20]} />\r\n\t\t\t</div>\r\n\t\t\t{props.error ?\r\n\t\t\t\t<div className={lg.error}>\r\n\t\t\t\t\t{props.error}\r\n\t\t\t\t</div>\r\n\t\t\t\t: <span></span>}\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\ttype=\"checkbox\" name=\"rememberMe\" component={Input} /> Remember me\r\n\t\t\t</div>\r\n\t\t\t{props.captchaUrl ? <img src={props.captchaUrl} /> : null}\r\n\t\t\t{props.captchaUrl ? <Field \r\n\t\t\t\t\tplaceholder=\"captcha\" \r\n\t\t\t\t\tcomponent={Input} \r\n\t\t\t\t\tname=\"captcha\" \r\n\t\t\t\t\tvalidate={required} /> : null}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login</button>\r\n\t\t\t</div>\r\n\r\n\t\t</form>\t\t\r\n\t)\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({\r\n\tform: 'login'\r\n})(LoginForm)\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Login(props) {\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n\t}\r\n\r\n\tif(props.isAuth) {\r\n\t\treturn\t<Redirect to={\"/profile\"} />\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className={lg.login}>\r\n\t\t\t<div className={lg.reg}>\r\n\t\t\t\t<h2>Login</h2>\r\n\t\t\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nimport {loginThunkCreator, logoutThunkCreator} from '../../redux/auth-reducer.js'\r\nimport Login from './Login.js'\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tcaptchaUrl: state.auth.captchaUrl\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tlogin: (email, password, rememberMe, captcha) => { dispatch( loginThunkCreator(email, password, rememberMe, captcha) ) },\r\n\t\tlogout: () => { dispatch( logoutThunkCreator() ) }\r\n\t}\r\n}\r\n\r\n\r\nconst LoginContainer = connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\n\r\nexport default LoginContainer","import React from 'react';\r\nimport fr from './friends.module.css';\r\n\r\nimport userPhoto from '../../assets/img/ava.png'\r\n\r\nimport * as axios from 'axios'\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\n\r\nfunction Friends_item(props) {\r\n\treturn (\r\n\t\t<div className={fr.friends_item}>\r\n\t\t\t<NavLink to={'/profile/' + props.id}>\r\n\t\t\t\t<img src={props.photo} className={fr.ava} />\r\n\t\t\t</NavLink>\r\n\t\t\t{props.name}\r\n\t\t\t<div className={fr.status}>\r\n\t\t\t\t\"{props.status}\"\r\n\t\t\t</div>\r\n\t\t\t<div className={fr.location}>\r\n\t\t\t\t{props.location}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nfunction Friends(props) {\r\n\r\n\tif(props.friendsData.length === 0) {\r\n\r\n\t\taxios.get(\"https://social-network.samuraijs.com/api/1.0/users\").then(response => {\r\n\t\t\tprops.setFriends(response.data.items) \t\t\t\r\n\t\t})\t\t\r\n\t}\r\n\r\n\r\n\tlet friendElements = props.friendsData.map( (f) => {\r\n\t\treturn (<Friends_item \r\n\t\t\tname={f.name} \r\n\t\t\tkey={f.id}\r\n\t\t\tid={f.id}\r\n\t\t\tstatus={f.status} \r\n\t\t\tlocation={f.location}\r\n\t\t\tphoto={f.photos.small != null ? f.photos.small : userPhoto}\r\n\t\t\tfollowed={f.followed}\r\n\t\t\tif={f.id} />)\r\n\t});\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className={fr.friends}>\r\n\t\t\t{friendElements}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Friends;","const SET_FRIENDS = 'SET-FRIENDS'\r\n\r\n\r\n\r\nlet initialState = {\r\n\tfriendsData : [\r\n\t],\r\n\r\n\tisFetching: false,\r\n\tfollowingProcess: [],\r\n}\r\n\r\n\r\n\r\nfunction friendsReducer(state = initialState, action) {\r\n\t\r\n\tif(action.type === SET_FRIENDS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tfriendsData: [ ...state.friendsData, ...action.friendsData ],\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function setFriendsAC(friendsData) {\r\n\treturn {\r\n\t\ttype: SET_FRIENDS,\r\n\t\tfriendsData,\r\n\t}\r\n}\r\n\r\n\r\nexport default friendsReducer;","import React from 'react';\r\n\r\nimport Friends from './Friends.js'\r\nimport {setFriendsAC} from '../../redux/friends-reducer'\r\nimport {getUsersSuperSelector} from '../../redux/users-selectors.js'\r\n\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect.js'\r\nimport {compose} from 'redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriendsData: getUsersSuperSelector(state),\r\n\t\tisAuth: state.auth.isAuth,\r\n\r\n\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsetFriends: (friendsData) => { dispatch( setFriendsAC(friendsData) ) },\r\n\t}\r\n}\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Friends)\r\n\r\n/*\r\nlet AuthRedirectComponent = withAuthRedirect(Friends)\r\n\r\n\r\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\r\n\r\n\r\nexport default FriendsContainer\r\n*/","import {getUserDataThunkCreator} from './auth-reducer.js'\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\n\r\nfunction appReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === INITIALIZED_SUCCESS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tinitialized: true,\r\n\t\t};\r\n\t} \r\n\r\n\t\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction initializedSuccess() {\r\n\treturn {\r\n\t\ttype: INITIALIZED_SUCCESS,\t\t\r\n\t}\r\n}\r\n\r\n\r\nexport const initializeAppThunkCreator = () => {\r\n\treturn (dispatch) => {\r\n\t\tlet promise = dispatch(getUserDataThunkCreator())\r\n\t\tPromise.all([promise])\r\n\t\t.then( () => {\r\n\t\t\tdispatch(initializedSuccess())\r\n\t\t}) \r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import React from 'react';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\treturn (props) => (\r\n\t\t<React.Suspense fallback={<div className=\"Loading\">Loading...</div>}>\r\n\t\t\t<Component {...props} />\r\n\t\t</React.Suspense>\r\n\t)\r\n}","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\n\r\nimport profileReducer from './profile-reducer.js'\r\nimport friendsReducer from './friends-reducer.js'\r\nimport dialogueReducer from './dialogue-reducer.js'\r\nimport usersReducer from './users-reducer.js'\r\nimport authReducer from './auth-reducer.js'\r\nimport appReducer from './app-reducer.js'\r\n\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\n\r\nlet reducers = combineReducers({\r\n\tprofile: profileReducer,\r\n\tfriends: friendsReducer,\r\n\tdialogue: dialogueReducer,\r\n\tusers: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n});\r\n\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));   - как было до использования хрумовского Redux DevTools\r\n//window.store = store;  - не нужен так как можно посмотреть данные State в Redux DevTools\r\n\r\nexport default store;","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport HeaderContainer from \"./components/Header/HeaderContainer.js\"\nimport Links from \"./components/Links/Links.js\"\nimport ProfileContainer from \"./components/Profile/ProfileContainer.js\"\n//import Dialogue from \"./components/Dialogue/Dialogue.js\" \n//import UsersContainer from \"./components/Users/UsersContainer.js\"\nimport LoginContainer from \"./components/Login/LoginContainer.js\"\nimport FriendsContainer from \"./components/Friends/FriendsContainer.js\"\n\nimport preloader from \"./assets/img/preloader.svg\"\n\nimport {Route, Switch} from \"react-router-dom\"\nimport {connect} from 'react-redux'\nimport {compose} from 'redux'\nimport {withRouter} from 'react-router-dom'\nimport {initializeAppThunkCreator} from './redux/app-reducer.js'\nimport {withSuspense} from './hoc/withSuspense.js'\n\nimport store from './redux/redux-store.js'\nimport {Provider} from 'react-redux'\nimport {BrowserRouter} from \"react-router-dom\"\n\nconst Dialogue = React.lazy( () => import(\"./components/Dialogue/Dialogue.js\"))\nconst UsersContainer = React.lazy( () => import(\"./components/Users/UsersContainer.js\"))\n\n\n\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.initializeAppThunkCreator()\n\t}\t\n\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn (\n\t\t\t\tnull\n\t\t)}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t  <HeaderContainer />\n\t\t\t  <div className=\"container\">\n\t\t\t    <Links />\n\n\t\t\t    <Switch>\n\n\t\t\t\t    <Route path=\"/profile/:userId?\" render={ () => <ProfileContainer />} />\n\t\t\t\t    \n\t\t\t\t    <Route path=\"/dialogue\" render={withSuspense(Dialogue)} />\n\n\t\t\t\t    <Route path=\"/friends\" render={ () => <FriendsContainer />} />\n\n\t\t\t\t    <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n\n\t\t\t\t    <Route path=\"/login\" render={ () => <LoginContainer />} />\n\n\t\t\t\t    <Route exact path=\"/\" render={ () => <ProfileContainer />} />\n\n\t\t\t    </Switch>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n\nlet mapStateToProps = (state) => {\n\treturn {\n\t\tinitialized: state.app.initialized\n\t}\n}\n\n\n\n\nlet AppContainer = compose(\n\tconnect(mapStateToProps, {initializeAppThunkCreator}),\n\twithRouter\n)(App)\n\n\n\nlet MainApp = (props) => {\n\treturn(\n\t  \t<Provider store={store}>\n\t  \t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t    \t<AppContainer />\n\t\t    </BrowserRouter>\n\t\t</Provider>\n\t)\n}\n\nexport default MainApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\nimport MainApp from './App';\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n \t<MainApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/ava.c145c92d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box_avatar\":\"avatar_box_avatar__1Is0t\",\"avatar\":\"avatar_avatar__20MNM\",\"file\":\"avatar_file__2lIxJ\",\"button\":\"avatar_button__28I0o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__3kDcM\",\"block\":\"post_block__1i8TN\",\"name\":\"post_name__3KHp-\",\"ava\":\"post_ava__1tv7k\",\"like\":\"post_like__3c6fo\",\"delete\":\"post_delete__cy_3o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"friends_friends__3lCVm\",\"friends_item\":\"friends_friends_item__1Nz7Z\",\"ava\":\"friends_ava__3zzUu\",\"status\":\"friends_status__2IzFl\",\"location\":\"friends_location__2qj_S\",\"button\":\"friends_button__59NZa\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.48d2f088.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__3CsZ_\",\"status_item\":\"status_status_item__N8TvA\",\"status_not_yours\":\"status_status_not_yours__Z5e2-\",\"status_editMode\":\"status_status_editMode__3xJPI\"};","import React from 'react';\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif(this.props.isAuth === false) return <Redirect to='/login' />\r\n\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\treturn RedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__VHtov\",\"container\":\"header_container__15CE4\",\"logout\":\"header_logout__1AARQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"profile_Profile__3Ko6P\",\"col1\":\"profile_col1__3FTuu\",\"avatar\":\"profile_avatar__YBUlS\",\"col2\":\"profile_col2__26V_Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__3t-j8\",\"reg\":\"login_reg__2ivQY\",\"error\":\"login_error__2zvcj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPost_posts__1wvkX\",\"MyPosts\":\"MyPost_MyPosts__3HMtA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"formsControls_form__3jx_M\",\"error\":\"formsControls_error__4b0wm\"};"],"sourceRoot":""}