{"version":3,"sources":["api/api.js","redux/dialogue-reducer.js","redux/users-reducer.js","components/Music/music.module.css","logo.svg","components/Links/links.module.css","serviceWorker.js","redux/auth-reducer.js","components/Header/Header.js","components/Header/HeaderAPIComponent.js","components/Header/HeaderContainer.js","components/Links/Links.js","redux/profile-reducer.js","components/Profile/Avatar/Avatar.js","components/Profile/MyPosts/post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Info/status/statusWithHooks.js","components/Profile/Info/Info.js","components/Profile/Profile.js","components/Profile/ProfileAPIComponent.js","components/Profile/ProfileContainer.js","components/Friends/Friends.js","redux/friends-reducer.js","components/Friends/FriendsContainer.js","utils/validators.js","components/common/FormsControls/FormsControls.js","components/Login/Login.js","components/Login/LoginContainer.js","components/Music/Music.js","redux/app-reducer.js","hoc/withSuspense.js","redux/redux-store.js","App.js","index.js","components/Friends/friends.module.css","components/Profile/Info/Info.module.css","assets/img/preloader.svg","components/Profile/Avatar/avatar.module.css","assets/img/ava.png","hoc/withAuthRedirect.js","components/Header/header.module.css","components/Profile/profile.module.css","components/Profile/Info/status/status.module.css","components/Login/login.module.css","components/Profile/MyPosts/MyPost.module.css","components/Profile/MyPosts/post/post.module.css","components/common/FormsControls/formsControls.module.css"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","initialState","dialoguesData","id","name","messagesData","message","addSmsActionCreator","text","type","smsText","dialogueReducer","state","action","newSms","usersData","totalUsersCount","isFetching","followingProcess","followAC","unfollowAC","toggleIsFetchingAC","toggleFollowingProcessAC","setCurrentPageAC","pageNumber","getUsersThunkCreator","dispatch","a","items","followThunkCreator","resultCode","unfollowThunkCreator","usersReducer","map","u","followed","filter","module","exports","Boolean","window","location","hostname","match","isAuth","setUserDataAC","getUserDataThunkCreator","logoutThunkCreator","authReducer","Header","props","className","hd","header","container","onClick","to","HeaderAPIComponent","this","React","Component","HeaderContainer","connect","auth","Links","cl","links","activeClassName","active","item","postsData","likeCounts","userProfile","setStatusAC","profileReducer","newPost","postText","Avatar","profile","av","box_avatar","avatar","src","photos","large","avaNull","preloader","Post","st","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","autocomplete","placeholder","component","MyPosts","postsElements","p","key","pt","posts","value","addPost","MyPostsContainer","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","status_editMode","autoFocus","onBlur","onChange","e","currentTarget","status_item","Info","inf","info","fullName","info_item","aboutMe","contacts","instagram","youtube","Profile","col1","col2","ProfileAPIComponent","params","AuthUserId","getUserProfile","log","PureComponent","compose","getUserProfileThunkCreator","getStatusThunkCreator","resultCod","updateStatusThunkCreator","withRouter","withAuthRedirect","Friends_item","fr","friends_item","photo","ava","button","Friends","friendsData","length","setFriends","friendElements","f","small","userPhoto","newUFriendsElement","createRef","friends","current","updateNewFriendSeekText","newFriendSeekText","ref","friendsReducer","newText","updateNewFriendSeekTextAC","setFriendsAC","required","Input","input","meta","hasError","touched","error","fm","maxLength","maxLength20","LoginReduxForm","validate","lg","Login","reg","formData","LoginContainer","stopSubmit","_error","loginThunkCreator","Music","mu","music","initialized","appReducer","withSuspense","Suspense","fallback","reducers","combineReducers","dialogue","users","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Dialogue","lazy","UsersContainer","App","initializeAppThunkCreator","path","render","ProfileContainer","FriendsContainer","AppContainer","promise","Promise","all","MainApp","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.af0a48ce.chunk.js","sourcesContent":["import * as axios from 'axios'\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\" : \"b2726463-4ea3-47eb-bcfd-476551e2680d\"\r\n\t}\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance.get(`users?=${currentPage}&count=${pageSize}`)\r\n\t\t.then(response => response.data)\t\t\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t},\r\n\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn(\"!Используйте profileAPI!\")\r\n\t\treturn profileAPI.getProfile(userId)\r\n\t},\t\r\n\r\n}\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/` + userId)\r\n\t},\t\r\n\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/` + userId)\r\n\t},\r\n\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, { status: status})\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\t\t\r\n\t},\r\n\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe})\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t}\r\n}","const SEND_SMS = 'SEND-SMS'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tdialoguesData: [\r\n\t\t{id:1, name: \"Alex\"},\r\n\t\t{id:2, name: \"Dima\"},\r\n\t\t{id:3, name: \"Nicita\"},\r\n\t\t{id:4, name: \"Alex\"},\r\n\t\t{id:5, name: \"Dima\"},\r\n\t\t{id:6, name: \"Nicita\"},\r\n\t\t{id:7, name: \"Bob\"},\r\n\t],\r\n\r\n\tmessagesData: [\r\n\t\t{id:1, message: \"hi\"},\r\n\t],\r\n}\r\n\r\n\r\n\r\nfunction dialogueReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === SEND_SMS) {\r\n\t\tlet newSms = {\r\n\t\tid: 2,\r\n\t\tmessage: action.smsText,\r\n\r\n\t\t};\r\n\t\t\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tmessagesData: [...state.messagesData, newSms],\r\n\t\t}\r\n\r\n\t} \r\n\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function addSmsActionCreator (text) {\r\n\treturn {\r\n\t\ttype: SEND_SMS,\r\n\t\tsmsText: text,\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default dialogueReducer;","import {usersAPI} from '../api/api.js'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROCESS = 'TOGGLE-IS-FOLLOWING-PROCRSS'\r\n\r\n\r\n\r\nlet initialState = {\r\n\tusersData:[\t],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingProcess: [],\r\n}\r\n\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === FOLLOW) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: state.usersData.map( (u) => {\r\n\t\t\t\tif(u.id === action.userId) {\r\n\t\t\t\t\treturn {...u, followed: true}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn u \r\n\t\t\t\t}\r\n\t\t\t}),\r\n\r\n\t\t}\r\n\r\n\t} else if(action.type === UNFOLLOW) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: state.usersData.map( (u) => {\r\n\t\t\t\tif(u.id === action.userId) {\r\n\t\t\t\t\treturn {...u, followed: false}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn u \r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t}\r\n\r\n\t} else if(action.type === SET_USERS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: [ ...action.usersData ],\r\n\t\t}\r\n\r\n\t} else if(action.type === SET_CURRENT_PAGE) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tcurrentPage: action.currentPage,\r\n\t\t}\r\n\r\n\t}else if(action.type === SET_TOTAL_USERS_COUNT) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\ttotalUsersCount: action.totalUsersCount,\r\n\t\t}\r\n\t} else if(action.type === TOGGLE_IS_FETCHING) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tisFetching: action.isFetching\r\n\t\t}\r\n\t} else if(action.type === TOGGLE_IS_FOLLOWING_PROCESS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tfollowingProcess:action.isFetching \r\n\t\t\t? [...state.followingProcess, action.userId]\r\n\t\t\t: state.followingProcess.filter(id => id != action.userId)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction followAC(userId) {\r\n\treturn {\r\n\t\ttype: FOLLOW,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n function unfollowAC(userId) {\r\n\treturn {\r\n\t\ttype: UNFOLLOW,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n\r\nfunction setUsersAC(usersData) {\r\n\treturn {\r\n\t\ttype: SET_USERS,\r\n\t\tusersData,\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction setTotalUsersCountAC(totalCount) {\r\n\treturn {\r\n\t\ttype: SET_TOTAL_USERS_COUNT,\r\n\t\ttotalUsersCount: totalCount\r\n\t}\r\n}\r\n\r\nfunction toggleIsFetchingAC(isFetching) {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FETCHING,\r\n\t\tisFetching\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction toggleFollowingProcessAC(isFetching, userId) {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FOLLOWING_PROCESS,\r\n\t\tisFetching,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function setCurrentPageAC(pageNumber) {\r\n\treturn {\r\n\t\ttype: SET_CURRENT_PAGE,\r\n\t\tcurrentPage: pageNumber,\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleIsFetchingAC(true) )\r\n\r\n\t\tlet data = await usersAPI.getUsers(currentPage, pageSize);\r\n\r\n\t\tdispatch( toggleIsFetchingAC(false) )\r\n\t\tdispatch( setUsersAC(data.items) )\t\r\n\t\tdispatch( setTotalUsersCountAC(40) )\t\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const followThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleFollowingProcessAC(true, userId) )\r\n\r\n\t\tlet response = await usersAPI.follow(userId)\r\n\t\t\t\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch( followAC(userId) )\r\n\t\t}\t\r\n\t\tdispatch( toggleFollowingProcessAC(false, userId) )\r\n\t}\r\n}\r\n\r\n\r\nexport const unfollowThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleFollowingProcessAC(true, userId) )\r\n\r\n\t\tlet response = await usersAPI.unfollow(userId)\r\n\t\t\t\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch( unfollowAC(userId) )\r\n\t\t}\t\r\n\t\tdispatch( toggleFollowingProcessAC(false, userId) )\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"music_music__1MNSt\"};","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"links\":\"links_links__2GEia\",\"item\":\"links_item__Z0nEf\",\"active\":\"links_active__wvS_0\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {authAPI} from '../api/api.js'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null, \r\n\r\n\tisAuth: false,\r\n}\r\n\r\n\r\nfunction authReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === SET_USER_DATA) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t...action.data,\r\n\t\t};\r\n\t}\r\n\r\n\t\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction setUserDataAC(id, email, login, isAuth) {\r\n\treturn {\r\n\t\ttype: SET_USER_DATA,\r\n\t\tdata: {id, email, login, isAuth}\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\nexport const getUserDataThunkCreator = () => {\r\n\treturn async (dispatch) => {\t\r\n\t\tlet response = await authAPI.me()\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tlet {id, email, login} = response.data.data\r\n\t\t\tdispatch( setUserDataAC(id, email, login, true) )\r\n\t\t}\t\t\t\t\r\n\t} \r\n}\r\n\r\n\r\nexport const loginThunkCreator = (email, password, rememberMe) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.login(email, password, rememberMe)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( getUserDataThunkCreator() )\r\n\t\t} else {\r\n\t\t\tdispatch( stopSubmit(\"login\", {_error: \"wrong email or password\"}) )\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport const logoutThunkCreator = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.logout()\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( setUserDataAC(null, null, null, false) )\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport  hd from './header.module.css';\r\n\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <div className={hd.header}>\r\n    \t<div className={hd.container}>\r\n\t    \t\t<span><b>{props.login ? props.login + \"Book\" : \"OлолешаBook\"}</b></span>\r\n\t    \t\t<span>\r\n\t    \t\t\t{ props.isAuth \r\n            ?\r\n              <div><button onClick={props.logout} className={hd.logout}>Logout</button></div> \r\n            : \r\n              <NavLink to={'/login'}>Login</NavLink> }\r\n\t    \t\t</span>\t\r\n    \t</div>\r\n    \t\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport Header from './Header.js'\r\nimport * as axios from 'axios'\r\n\r\nimport {authAPI} from '../../api/api.js'\r\n\r\n\r\n\r\nclass HeaderAPIComponent extends React.Component {\r\n\trender() {\r\n\t  return (\r\n\t    <Header {...this.props} />\r\n\t  )\r\n\t}\r\n}\r\n\r\nexport default HeaderAPIComponent","import React from 'react';\r\n\r\nimport {logoutThunkCreator} from '../../redux/auth-reducer.js'\r\nimport HeaderAPIComponent from './HeaderAPIComponent.js'\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    \tisAuth: state.auth.isAuth,\r\n    \tlogin: state.auth.login,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    \tlogout: () => { dispatch( logoutThunkCreator() ) }\r\n    }\r\n}\r\n\r\n\r\n//let withUrlDataContainerComponent = withRouter(HeaderAPIComponent)\r\n\r\n\r\nconst HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(HeaderAPIComponent);\r\n\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport  cl from './links.module.css';\r\n\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nfunction Links() {\r\n  return (\r\n    <div className={cl.links}>\r\n        <NavLink to=\"profile\" activeClassName={cl.active}>\r\n        \t<div className={cl.item}>\r\n        \t\tМоя страница\r\n        \t</div>\r\n        </NavLink>\r\n        <NavLink to=\"dialogue\" activeClassName={cl.active}>\r\n        \t<div className={cl.item}>\r\n        \t\tСообщения\r\n        \t</div>\r\n        </NavLink>\r\n        <NavLink to=\"friends\" activeClassName={cl.active}>\r\n            <div className={cl.item}>\r\n                Друзья\r\n            </div>\r\n        </NavLink>\r\n        <NavLink to=\"music\" activeClassName={cl.active}>\r\n        \t<div className={cl.item}>\r\n        \t\tМузыка\r\n        \t</div>\r\n        </NavLink>\r\n        <NavLink to=\"Users\" activeClassName={cl.active}>\r\n            <div className={cl.item}>\r\n                Пользователи\r\n            </div>\r\n        </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Links;","import {usersAPI} from '../api/api.js' \r\nimport {profileAPI} from '../api/api.js'\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_STATUS = \"SET-STATUS\"\r\n\r\n\r\n\r\nlet initialState = {\r\n\tpostsData:[\r\n\t\t{id:1, name: \"Alex\", likeCounts:\"22\", text:\"Погода хорошая\"},\r\n\t\t{id:2, name: \"Dima\", likeCounts:\"10\"},\r\n\t\t{id:3, name: \"Nikita\", likeCounts:\"0\"},\r\n\t],\r\n\r\n\tuserProfile: null,\r\n\r\n\tstatus: \"\",\r\n}\r\n\r\n\r\nfunction profileReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === ADD_POST) {\r\n\t\tlet newPost = {\r\n\t\tid: 4,\r\n\t\tname: \"Rick\",\r\n\t\ttext: action.postText,\r\n\t\tlikeCounts: 0,\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tpostsData: [newPost, ...state.postsData],\r\n\t\t};\r\n\r\n\t}  else if(action.type === SET_USER_PROFILE) {\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tuserProfile: action.userProfile,\r\n\t\t}\r\n\t} else if(action.type === SET_STATUS) {\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tstatus: action.status,\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function addPostActionCreator (text) {\r\n\treturn {\r\n\t\ttype: ADD_POST,\r\n\t\tpostText: text,\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction setUserProfileAC (userProfile) {\r\n\treturn {\r\n\t\ttype: SET_USER_PROFILE,\r\n\t\tuserProfile\r\n\t}\r\n}\r\n\r\nfunction setStatusAC(status) {\r\n\treturn {\r\n\t\ttype: SET_STATUS,\r\n\t\tstatus \r\n\t}\r\n}\r\n\r\n\r\nexport const getStatusThunkCreator = (userId) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await profileAPI.getStatus(userId)\r\n\t\tdispatch( setStatusAC(response.data) ) \r\n\t}\r\n}\r\n\r\n\r\nexport const updateStatusThunkCreator = (status) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await profileAPI.updateStatus(status)\r\n\t\tif(response.data.resultCod === 0) {\r\n\t\t\tdispatch( setStatusAC(status) ) \r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const getUserProfileThunkCreator = (userId) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await usersAPI.getProfile(userId)\r\n\t\tdispatch( setUserProfileAC(response.data) ) \r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport av from './avatar.module.css';\r\n\r\nimport preloader from '../../../assets/img/preloader.svg'\r\nimport avaNull from '../../../assets/img/ava.png'\r\n\r\n\r\nfunction Avatar(props) {\r\n\r\n\tif(!props.profile) {\r\n\t\treturn (\r\n\t\t\t<div className={av.box_avatar}>\r\n\t\t\t\t<div className={av.avatar}>\r\n\t\t\t\t\t<img src={preloader} />\r\n\t\t\t\t</div>\r\n            </div>\r\n\t\t)\r\n\t} \r\n\r\n  return (\r\n    <div className={av.box_avatar}>\r\n \t\t<div className={av.avatar}>\r\n \t\t\t<img src={props.profile.photos.large ? props.profile.photos.large : avaNull} />\r\n \t\t</div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Avatar;","import React from 'react';\r\nimport st from './post.module.css'\r\n\r\nfunction Post(props) {\r\n\treturn (\r\n\t\t<div className={st.post}>\r\n\t\t\t<div className={st.name}>{props.name}</div>\r\n\t\t\t<div>{props.text}</div>\r\n\t\t\t<div>{props.likeCounts} like</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport pt from './MyPost.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\n\r\nimport Post from './post/Post.js'\r\n\r\n\r\n\r\n\r\nfunction PostForm(props) {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\tautocomplete=\"off\" \r\n\t\t\t\t\tplaceholder=\"Что у Вас нового?\" \r\n\t\t\t\t\tname=\"postText\" \r\n\t\t\t\t\tcomponent=\"input\" />\r\n\t\t\t</div>\r\n\t\t\t<button>Опубликовать</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst PostReduxForm = reduxForm({\r\n\tform: 'post'\r\n})(PostForm)\r\n\r\n\r\n\r\n\r\n\r\nfunction MyPosts(props) {\r\n\r\n\tlet postsElements = props.postsData.map( (p) => {\r\n\t\treturn (<Post name={p.name} key={p.id} text={p.text} likeCounts={p.likeCounts} />)\r\n\t})\r\n\r\n\r\n\r\n\tfunction AddNewPost(value) {\r\n\t\tprops.addPost(value.postText) \r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className={pt.posts}>\r\n\t\t\t<span className={pt.MyPosts}>\r\n\t\t\t\tМои Посты\r\n\t\t\t\t<PostReduxForm onSubmit={AddNewPost} />\r\n\t\t\t</span>\r\n\t\t\t{postsElements}\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\n\r\nimport {addPostActionCreator, } from '../../../redux/profile-reducer.js'\r\nimport MyPosts from './MyPosts.js'\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tpostsData: state.profile.postsData,\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (text) => { dispatch( addPostActionCreator(text) ) },\r\n\t}\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, {useState, useEffect} from 'react';\r\nimport st from './status.module.css';\r\n\r\n\r\nfunction  ProfileStatusWithHooks(props) {\r\n\r\n\tlet [editMode, setEditMode] = useState(false)\r\n\tlet [status, setStatus] = useState(props.status)\r\n\r\n\r\n\tuseEffect( () => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status])\r\n\r\n\r\n\tlet activateEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t}\r\n\r\n\tlet deactivateEditMode = () => {\r\n\t\tsetEditMode(false)\r\n\t\tprops.updateStatus(status)\r\n\t}\r\n\r\n\tlet onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={st.status}>\r\n\t\t\t{editMode \r\n\t\t\t\t?  \r\n\t\t\t\t<div className={st.status_editMode}>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tonBlur={deactivateEditMode}\r\n\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t\tonChange={onStatusChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t: \r\n\t\t\t\t<div \r\n\t\t\t\t\tclassName={st.status_item}\r\n\t\t\t\t\tonClick={activateEditMode} >\r\n\t\t\t\t\t\t{props.status}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\t\t\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport inf from './Info.module.css';\r\n\r\nimport preloader from '../../../assets/img/preloader.svg'\r\nimport ProfileStatus from './status/statusWithHooks.js'\r\n\r\nfunction Info(props) {\r\n\r\n\tif(!props.profile) {\r\n\t\treturn (\r\n\t\t\t<div className={inf.info}>\r\n\t\t\t\t<img className={inf.preloader} src={preloader} />\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t} \r\n\t\r\n\treturn (\r\n\t\t<div className={inf.info}>\r\n\t\t\t<div className={inf.name}><b>{props.profile.fullName}</b></div>\r\n\t\t\t<ProfileStatus status={props.status} updateStatus={props.updateStatus} />\r\n\t\t\t<div className={inf.info_item}><b>Обо мне:</b> {props.profile.aboutMe ? props.profile.aboutMe : \"---\"}</div>\r\n\t\t\t<div><b>Instagram:</b> {props.profile.contacts.instagram ? props.profile.contacts.instagram : \"---\"}</div>\r\n\t\t\t<div><b>YouTube:</b> {props.profile.contacts.youtube ? props.profile.contacts.youtube : \"---\"}</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Info;","import React from 'react';\r\nimport cl from './profile.module.css';\r\n\r\nimport Avatar from './Avatar/Avatar.js'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer.js'\r\nimport Info from './Info/Info.js'\r\n\r\n\r\n\r\nfunction Profile(props) {\r\n  return (\r\n    <div className={cl.Profile}>\r\n    \t<div className={cl.col1}>\r\n    \t\t<Avatar profile={props.profile} />\r\n    \t</div>\r\n\r\n    \t<div className={cl.col2}>\r\n    \t\t<Info profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n    \t\t<MyPostsContainer />\r\n    \t</div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Profile;","import React, {PureComponent} from 'react';\r\n\r\nimport Profile from './Profile.js'\r\nimport * as axios from 'axios'\r\n\r\n\r\n\r\n\r\nclass ProfileAPIComponent extends PureComponent {\r\n\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet userId = this.props.match.params.userId\r\n\t\tif(!userId) {\r\n\t\t\tuserId = this.props.AuthUserId\r\n\t\t}\r\n\t\tthis.props.getUserProfile(userId)\r\n\t\tthis.props.getStatus(userId)\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconsole.log(\"render\")\r\n\t  return (\r\n\t    <Profile {...this.props} /*передает все пропсы разом*/ />\r\n\t  )\r\n\t}\r\n}\r\n\r\nexport default ProfileAPIComponent","import React from 'react';\r\n\r\nimport {getUserProfileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator} from '../../redux/profile-reducer.js'\r\nimport ProfileAPIComponent from './ProfileAPIComponent.js'\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect.js'\r\nimport {compose} from 'redux'\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    \tprofile: state.profile.userProfile,\r\n    \tisAuth: state.auth.isAuth,\r\n        status: state.profile.status,\r\n        AuthUserId: state.auth.id\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    \tgetUserProfile: (userId) => { dispatch(getUserProfileThunkCreator(userId) ) },\r\n        getStatus: (userId) => { dispatch(getStatusThunkCreator(userId) ) },\r\n        updateStatus: (status) => { dispatch(updateStatusThunkCreator(status) ) },\r\n    }\r\n}\r\n\r\n\r\n/*\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(ProfileAPIComponent)\r\n\r\n\r\nlet withUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n\r\n\r\nconst ProfileContainer = connect(mapStateToProps, mapDispatchToProps)(withUrlDataContainerComponent);\r\n\r\n\r\nexport default ProfileContainer;\r\n*/\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileAPIComponent);","import React from 'react';\r\nimport fr from './friends.module.css';\r\n\r\nimport userPhoto from '../../assets/img/ava.png'\r\n\r\nimport * as axios from 'axios'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nfunction Friends_item(props) {\r\n\treturn (\r\n\t\t<div className={fr.friends_item}>\r\n\t\t\t<img src={props.photo} className={fr.ava} />\r\n\t\t\t{props.name}\r\n\t\t\t<div className={fr.status}>\r\n\t\t\t\t\"{props.status}\"\r\n\t\t\t</div>\r\n\t\t\t<div className={fr.location}>\r\n\t\t\t\t{props.location}\r\n\t\t\t</div>\r\n\t\t\t<div className={fr.button}>\r\n\t\t\t\t<button onClick={ () => {} }>Удалить из друзей</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nfunction Friends(props) {\r\n\r\n\tif(props.friendsData.length === 0) {\r\n\r\n\t\taxios.get(\"https://social-network.samuraijs.com/api/1.0/users\").then(response => {\r\n\t\t\tprops.setFriends(response.data.items) \t\t\t\r\n\t\t})\t\t\r\n\t}\r\n\r\n\r\n\tlet friendElements = props.friendsData.map( (f) => {\r\n\t\treturn (<Friends_item \r\n\t\t\tname={f.name} \r\n\t\t\tkey={f.id}\r\n\t\t\tstatus={f.status} \r\n\t\t\tlocation={f.location}\r\n\t\t\tphoto={f.photos.small != null ? f.photos.small : userPhoto} />)\r\n\t});\r\n\r\n\r\n\tlet newUFriendsElement = React.createRef();\r\n\r\n\r\n\tfunction onFriendsChange() {\r\n\t\tlet text = newUFriendsElement.current.value\r\n\t\tprops.updateNewFriendSeekText(text);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className={fr.friends}>\r\n\t\t\t<input \r\n\t\t\t\tonChange={onFriendsChange} \r\n\t\t\t\tvalue={props.newFriendSeekText} \r\n\t\t\t\tplaceholder=\"Поиск\"\r\n\t\t\t\tref={newUFriendsElement} />\r\n\t\t\t{friendElements}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Friends;","const UPDATE_NEW_FRIENDS_SEEK_TEXT = 'UPDATE-NEW-FRIENDS-SEEK-TEXT'\r\nconst SET_FRIENDS = 'SET-FRIENDS'\r\n\r\n\r\n\r\nlet initialState = {\r\n\tfriendsData : [\r\n\t],\r\n\r\n\tnewFriendSeekText: \"\",\r\n}\r\n\r\n\r\n\r\nfunction friendsReducer(state = initialState, action) {\r\n\t\r\n\tif(action.type === UPDATE_NEW_FRIENDS_SEEK_TEXT) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tnewFriendSeekText: action.newText\r\n\t\t};\r\n\t} else if(action.type === SET_FRIENDS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tfriendsData: [ ...state.friendsData, ...action.friendsData ],\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function updateNewFriendSeekTextAC (text) {\r\n\treturn {\r\n\t\ttype: UPDATE_NEW_FRIENDS_SEEK_TEXT,\r\n\t\tnewText: text,\r\n\t}\r\n}\r\n\r\n\r\nexport function setFriendsAC(friendsData) {\r\n\treturn {\r\n\t\ttype: SET_FRIENDS,\r\n\t\tfriendsData,\r\n\t}\r\n}\r\n\r\n\r\nexport default friendsReducer;","import React from 'react';\r\n\r\nimport Friends from './Friends.js'\r\nimport {updateNewFriendSeekTextAC, setFriendsAC} from '../../redux/friends-reducer'\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect.js'\r\nimport {compose} from 'redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriendsData: state.friends.friendsData,\r\n\t\tnewFriendSeekText: state.friends.newFriendSeekText,\r\n\t\tisAuth: state.auth.isAuth,\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateNewFriendSeekText: (text) => { dispatch( updateNewFriendSeekTextAC(text) ) },\r\n\t\tsetFriends: (friendsData) => { dispatch( setFriendsAC(friendsData) ) },\r\n\t}\r\n}\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Friends)\r\n\r\n/*\r\nlet AuthRedirectComponent = withAuthRedirect(Friends)\r\n\r\n\r\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\r\n\r\n\r\nexport default FriendsContainer\r\n*/","export function required(value) {\r\n\tif(value) {\r\n\t\treturn undefined\r\n\t} else {\r\n\t\treturn 'error message'\t\t\r\n\t}\t\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif(value.length > maxLength) {\r\n\t\treturn `Max length is ${maxLength} symbols`\r\n\t} else {\r\n\t\treturn undefined\t\t\r\n\t}\t\r\n}","import React from 'react'\r\nimport fm from './formsControls.module.css'\r\n\r\n\r\nexport function Input({input, meta, ...props}) {\r\n\r\n\tlet hasError = meta.touched && meta.error\r\n\treturn(\r\n\t\t<div className={fm.form + \" \" + (hasError ? fm.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t<input {...input} {...props} />\r\n\t\t\t</div>\r\n\t\t\t{hasError ? <span>{meta.error}</span> : <span></span>}\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react';\r\nimport lg from './login.module.css';\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {required, maxLengthCreator} from '../../utils/validators.js'\r\nimport {Input} from '../common/FormsControls/FormsControls.js'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nlet maxLength20 = maxLengthCreator(20)\r\n\r\n\r\nfunction LoginForm(props) {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tvalidate={[required, maxLength20]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\" \r\n\t\t\t\t\tname=\"password\" \r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tvalidate={[required, maxLength20]} />\r\n\t\t\t</div>\r\n\t\t\t{props.error ?\r\n\t\t\t\t<div className={lg.error}>\r\n\t\t\t\t\t{props.error}\r\n\t\t\t\t</div>\r\n\t\t\t\t: <span></span>}\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\ttype=\"checkbox\" name=\"rememberMe\" component={Input} /> Remember me\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\t\t\r\n\t)\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({\r\n\tform: 'login'\r\n})(LoginForm)\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Login(props) {\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe)\r\n\t}\r\n\r\n\tif(props.isAuth) {\r\n\t\treturn\t<Redirect to={\"/profile\"} />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={lg.login}>\r\n\t\t\t<div className={lg.reg}>\r\n\t\t\t\t<h2>Login</h2>\r\n\t\t\t\t<LoginReduxForm onSubmit={onSubmit} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nimport {loginThunkCreator, logoutThunkCreator} from '../../redux/auth-reducer.js'\r\nimport /*LoginAPIComponent*/ Login from /*'./LoginAPIComponent.js'*/ './Login.js'\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tlogin: (email, password, rememberMe) => { dispatch( loginThunkCreator(email, password, rememberMe) ) },\r\n\t\tlogout: () => { dispatch( logoutThunkCreator() ) }\r\n\t}\r\n}\r\n\r\n\r\nconst LoginContainer = connect(mapStateToProps, mapDispatchToProps)(/*LoginAPIComponent*/ Login);\r\n\r\n\r\nexport default LoginContainer","import React from 'react';\r\nimport mu from './music.module.css';\r\n\r\n\r\n\r\nfunction Music() {\r\n\treturn (\r\n\t\t<div className={mu.music}>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Music;","import {getUserDataThunkCreator} from './auth-reducer.js'\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\n\r\nfunction appReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === INITIALIZED_SUCCESS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tinitialized: true,\r\n\t\t};\r\n\t} \r\n\r\n\t\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction initializedSuccess() {\r\n\treturn {\r\n\t\ttype: INITIALIZED_SUCCESS,\t\t\r\n\t}\r\n}\r\n\r\n\r\nexport const initializeAppThunkCreator = () => {\r\n\treturn (dispatch) => {\r\n\t\tlet promise = dispatch(getUserDataThunkCreator())\r\n\t\tPromise.all([promise])\r\n\t\t.then( () => {\r\n\t\t\tdispatch(initializedSuccess())\r\n\t\t}) \r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import React from 'react';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\treturn (props) => (\r\n\t\t<React.Suspense fallback={<div className=\"Loading\">Loading...</div>}>\r\n\t\t\t<Component {...props} />\r\n\t\t</React.Suspense>\r\n\t)\r\n}","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\n\r\nimport profileReducer from './profile-reducer.js'\r\nimport dialogueReducer from './dialogue-reducer.js'\r\nimport friendsReducer from './friends-reducer.js'\r\nimport usersReducer from './users-reducer.js'\r\nimport authReducer from './auth-reducer.js'\r\nimport appReducer from './app-reducer.js'\r\n\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\n\r\nlet reducers = combineReducers({\r\n\tprofile: profileReducer,\r\n\tdialogue: dialogueReducer,\r\n\tfriends: friendsReducer,\r\n\tusers: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n});\r\n\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));   - как было до использования хрумовского Redux DevTools\r\n//window.store = store;  - не нужен так как можно посмотреть данные State в Redux DevTools\r\n\r\nexport default store;","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport HeaderContainer from \"./components/Header/HeaderContainer.js\"\nimport Links from \"./components/Links/Links.js\"\nimport ProfileContainer from \"./components/Profile/ProfileContainer.js\"\n//import Dialogue from \"./components/Dialogue/Dialogue.js\" \nimport FriendsContainer from \"./components/Friends/FriendsContainer.js\"\n//import UsersContainer from \"./components/Users/UsersContainer.js\"\nimport LoginContainer from \"./components/Login/LoginContainer.js\"\nimport Music from \"./components/Music/Music.js\"\n\nimport preloader from \"./assets/img/preloader.svg\"\n\nimport {Route} from \"react-router-dom\"\nimport {connect} from 'react-redux'\nimport {compose} from 'redux'\nimport {withRouter} from 'react-router-dom'\nimport {initializeAppThunkCreator} from './redux/app-reducer.js'\nimport {withSuspense} from './hoc/withSuspense.js'\n\nimport store from './redux/redux-store.js'\nimport {Provider} from 'react-redux'\nimport {BrowserRouter} from \"react-router-dom\"\n\nconst Dialogue = React.lazy( () => import(\"./components/Dialogue/Dialogue.js\"))\nconst UsersContainer = React.lazy( () => import(\"./components/Users/UsersContainer.js\"))\n\n\n\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.initializeAppThunkCreator()\n\t}\t\n\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn (\n\t\t\t\tnull\n\t\t)}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t  <HeaderContainer />\n\t\t\t  <div className=\"container\">\n\t\t\t    <Links />\n\n\t\t\t    <Route path=\"/profile/:userId?\" render={ () => <ProfileContainer />} />\n\n\t\t\t    <Route path=\"/friends\" render={ () => <FriendsContainer />} />\n\t\t\t    \n\t\t\t    <Route path=\"/dialogue\" render={withSuspense(Dialogue)} />\n\n\t\t\t    <Route path=\"/music\" render={ () => <Music />} />\n\n\t\t\t    <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n\n\t\t\t    <Route path=\"/login\" render={ () => <LoginContainer />} />\n\t\t\t  </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n\nlet mapStateToProps = (state) => {\n\treturn {\n\t\tinitialized: state.app.initialized\n\t}\n}\n\n\n\n\nlet AppContainer = compose(\n\tconnect(mapStateToProps, {initializeAppThunkCreator}),\n\twithRouter\n)(App)\n\n\n\nlet MainApp = (props) => {\n\treturn(\n\t  \t<Provider store={store}>\n\t  \t\t<BrowserRouter>\n\t\t    \t<AppContainer />\n\t\t    </BrowserRouter>\n\t\t</Provider>\n\t)\n}\n\nexport default MainApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\nimport MainApp from './App';\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n \t<MainApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"friends_friends__3lCVm\",\"friends_item\":\"friends_friends_item__1Nz7Z\",\"ava\":\"friends_ava__3zzUu\",\"status\":\"friends_status__2IzFl\",\"location\":\"friends_location__2qj_S\",\"button\":\"friends_button__59NZa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"Info_info__13ByE\",\"preloader\":\"Info_preloader__1dcEk\",\"name\":\"Info_name__7yGf2\",\"info_item\":\"Info_info_item__14fQf\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.48d2f088.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box_avatar\":\"avatar_box_avatar__1Is0t\",\"avatar\":\"avatar_avatar__20MNM\"};","module.exports = __webpack_public_path__ + \"static/media/ava.c145c92d.png\";","import React from 'react';\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif(this.props.isAuth === false) return <Redirect to='/login' />\r\n\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\treturn RedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__VHtov\",\"container\":\"header_container__15CE4\",\"logout\":\"header_logout__1AARQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"profile_Profile__3Ko6P\",\"col1\":\"profile_col1__3FTuu\",\"avatar\":\"profile_avatar__YBUlS\",\"col2\":\"profile_col2__26V_Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__3CsZ_\",\"status_item\":\"status_status_item__N8TvA\",\"status_editMode\":\"status_status_editMode__3xJPI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__3t-j8\",\"reg\":\"login_reg__2ivQY\",\"error\":\"login_error__2zvcj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPost_posts__1wvkX\",\"MyPosts\":\"MyPost_MyPosts__3HMtA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__3kDcM\",\"name\":\"post_name__3KHp-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"formsControls_form__3jx_M\",\"error\":\"formsControls_error__4b0wm\"};"],"sourceRoot":""}