(this["webpackJsonpmy-app-1"]=this["webpackJsonpmy-app-1"]||[]).push([[0],{11:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return u}));var n=a(41),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"b2726463-4ea3-47eb-bcfd-476551e2680d"}}),o={getUsers:function(e,t){return r.get("users?=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))},getProfile:function(e){return console.warn("!\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 profileAPI!"),c.getProfile(e)}},c={getProfile:function(e){return r.get("profile/"+e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveInfo:function(e){return r.put("/profile",e)}},i={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},u={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},130:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(24),r=a(4),o={dialoguesData:[{id:1,name:"Alex"},{id:2,name:"Dima"},{id:3,name:"Nicita"},{id:4,name:"Alex"},{id:5,name:"Dima"},{id:6,name:"Nicita"},{id:7,name:"Bob"}],messagesData:[{id:1,message:"hi"}]};function c(e){return{type:"SEND-SMS",smsText:e}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if("SEND-SMS"===t.type){var a={id:2,message:t.smsText};return Object(r.a)(Object(r.a)({},e),{},{messagesData:[].concat(Object(n.a)(e.messagesData),[a])})}return e}},131:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return E})),a.d(t,"e",(function(){return b}));var n=a(9),r=a.n(n),o=a(14),c=a(24),i=a(4),u=a(11),s={usersData:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingProcess:[]};function l(e){return{type:"FOLLOW",userId:e}}function m(e){return{type:"UNFOLLOW",userId:e}}function f(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}}function p(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROCRSS",isFetching:e,userId:t}}function d(e){return{type:"SET-CURRENT-PAGE",currentPage:e}}var v=function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(f(!0)),a.next=3,u.d.getUsers(e,t);case 3:o=a.sent,n(f(!1)),n({type:"SET-USERS",usersData:o.items}),n({type:"SET-TOTAL-USERS-COUNT",totalUsersCount:40});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(p(!0,e)),t.next=3,u.d.follow(e);case 3:0===t.sent.data.resultCode&&a(l(e)),a(p(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(p(!0,e)),t.next=3,u.d.unfollow(e);case 3:0===t.sent.data.resultCode&&a(m(e)),a(p(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return"FOLLOW"===t.type?Object(i.a)(Object(i.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))}):"UNFOLLOW"===t.type?Object(i.a)(Object(i.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))}):"SET-USERS"===t.type?Object(i.a)(Object(i.a)({},e),{},{usersData:Object(c.a)(t.usersData)}):"SET-CURRENT-PAGE"===t.type?Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage}):"SET-TOTAL-USERS-COUNT"===t.type?Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount}):"TOGGLE-IS-FETCHING"===t.type?Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching}):"TOGGLE-IS-FOLLOWING-PROCRSS"===t.type?Object(i.a)(Object(i.a)({},e),{},{followingProcess:t.isFetching?[].concat(Object(c.a)(e.followingProcess),[t.userId]):e.followingProcess.filter((function(e){return e!=t.userId}))}):e}},138:function(e,t,a){e.exports={music:"music_music__1MNSt"}},166:function(e,t,a){e.exports=a(293)},171:function(e,t,a){},172:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},173:function(e,t,a){},20:function(e,t,a){e.exports={links:"links_links__2GEia",item:"links_item__Z0nEf",active:"links_active__wvS_0"}},21:function(e,t,a){e.exports={info:"Info_info__13ByE",preloader:"Info_preloader__1dcEk",name:"Info_name__7yGf2",about:"Info_about__CilcP",info_item:"Info_info_item__14fQf",edit:"Info_edit__20f4T",ProfileFormData:"Info_ProfileFormData__1SKb6",animatetop:"Info_animatetop__31gPs",save:"Info_save__1exzI",error:"Info_error__3gLCL"}},293:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(69),c=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(171);var i=a(30),u=a(31),s=a(33),l=a(32),m=(a(172),a(173),a(9)),f=a.n(m),p=a(14),d=a(4),v=a(11),E=a(28),b={id:null,email:null,login:null,captchaUrl:null,isAuth:!1};function h(e,t,a,n){return{type:"SET-USER-DATA",data:{id:e,email:t,login:a,isAuth:n}}}function _(e){return{type:"GET-CAPTCHA-URL",captchaUrl:{captchaUrl:e}}}var O=function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n,r,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.me();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,o=n.email,c=n.login,t(h(r,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.logout();case 2:0===e.sent.data.resultCode&&t(h(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.c.getCaptchaUrl();case 2:a=e.sent,n=a.data.url,t(_(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return"SET-USER-DATA"===t.type?Object(d.a)(Object(d.a)({},e),t.data):"GET-CAPTCHA-URL"===t.type?Object(d.a)(Object(d.a)({},e),t.captchaUrl):e},N=a(74),y=a.n(N),w=a(38),k=a.n(w),T=a(12);var x=function(e){return r.a.createElement("div",{className:y.a.header},r.a.createElement("div",{className:y.a.container},r.a.createElement("span",null,r.a.createElement("b",null,e.login?e.login+"Book":"O\u043b\u043e\u043b\u0435\u0448\u0430Book")),r.a.createElement("span",null,e.isAuth?r.a.createElement("div",null,r.a.createElement("button",{onClick:e.logout,className:y.a.logout},"Logout")):r.a.createElement(T.b,{to:"/login"},"Login"))))},P=a(41),C=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(x,this.props)}}]),a}(r.a.Component),I=a(10),D=Object(I.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),(function(e){return{logout:function(){e(g())}}}))(C),A=a(20),U=a.n(A);var F=function(){return r.a.createElement("div",{className:U.a.links},r.a.createElement(T.b,{to:"profile",activeClassName:U.a.active},r.a.createElement("div",{className:U.a.item},"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430")),r.a.createElement(T.b,{to:"dialogue",activeClassName:U.a.active},r.a.createElement("div",{className:U.a.item},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),r.a.createElement(T.b,{to:"friends",activeClassName:U.a.active},r.a.createElement("div",{className:U.a.item},"\u0414\u0440\u0443\u0437\u044c\u044f")),r.a.createElement(T.b,{to:"music",activeClassName:U.a.active},r.a.createElement("div",{className:U.a.item},"\u041c\u0443\u0437\u044b\u043a\u0430")),r.a.createElement(T.b,{to:"Users",activeClassName:U.a.active},r.a.createElement("div",{className:U.a.item},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")))},L=a(24),R={postsData:[{id:1,name:"Alex",likeCounts:"22",text:"\u041f\u043e\u0433\u043e\u0434\u0430 \u0445\u043e\u0440\u043e\u0448\u0430\u044f"},{id:2,name:"Dima",likeCounts:"10"},{id:3,name:"Nikita",likeCounts:"0"}],userProfile:null,status:""};function M(e){return{type:"SET-STATUS",status:e}}var G=function(e){return function(){var t=Object(p.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.d.getProfile(e);case 2:n=t.sent,a({type:"SET-USER-PROFILE",userProfile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;if("ADD-POST"===t.type){var a={id:4,name:"Rick",text:t.postText,likeCounts:0};return Object(d.a)(Object(d.a)({},e),{},{postsData:[a].concat(Object(L.a)(e.postsData))})}return"SET-USER-PROFILE"===t.type?Object(d.a)(Object(d.a)({},e),{},{userProfile:t.userProfile}):"SET-STATUS"===t.type?Object(d.a)(Object(d.a)({},e),{},{status:t.status}):"SET-PHOTO"===t.type?Object(d.a)(Object(d.a)({},e),{},{userProfile:Object(d.a)(Object(d.a)({},e.userProfile),{},{photos:t.photos})}):"SET_INFO"===t.type?Object(d.a)(Object(d.a)({},e),{},{userProfile:Object(d.a)(Object(d.a)({},e.userProfile),{},{"???":t.info})}):e},W=a(75),H=a.n(W),J=a(59),B=a.n(J),Y=a(50),Z=a.n(Y);var K=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",{className:B.a.box_avatar},r.a.createElement("div",{className:B.a.avatar},r.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:k.a}))),r.a.createElement("div",null,e.isOwner?r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}):null)):r.a.createElement("div",{className:B.a.box_avatar},r.a.createElement("div",{className:B.a.avatar},r.a.createElement("img",{src:Z.a})))},V=a(96),X=a.n(V),Q=a(132),q=a(133),$=a(47),ee=a.n($);var te=function(e){return r.a.createElement("div",{className:ee.a.post},r.a.createElement("img",{className:ee.a.ava,src:k.a}),r.a.createElement("div",{className:ee.a.block},r.a.createElement("div",{className:ee.a.name},e.name),r.a.createElement("div",null,e.text),r.a.createElement("div",{className:ee.a.like},e.likeCounts," like")))};var ae=Object(q.a)({form:"post"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(Q.a,{autocomplete:"off",placeholder:"\u0427\u0442\u043e \u0443 \u0412\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",name:"postText",component:"input"})),r.a.createElement("button",null,"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"))}));var ne=function(e){var t=e.postsData.map((function(e){return r.a.createElement(te,{name:e.name,key:e.id,text:e.text,likeCounts:e.likeCounts})}));return r.a.createElement("div",{className:X.a.posts},r.a.createElement("span",{className:X.a.MyPosts},"\u041c\u043e\u0438 \u041f\u043e\u0441\u0442\u044b",r.a.createElement(ae,{onSubmit:function(t){e.addPost(t.postText)}})),t)},re=Object(I.b)((function(e){return{postsData:e.profile.postsData}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",postText:e}}(t))}}}))(ne),oe=a(54),ce=a(21),ie=a.n(ce),ue=a(60),se=a.n(ue);var le=function(e){var t=Object(n.useState)(!1),a=Object(oe.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(e.status),u=Object(oe.a)(i,2),s=u[0],l=u[1];return Object(n.useEffect)((function(){l(e.status)}),[e.status]),r.a.createElement("div",{className:se.a.status},e.isOwner&&o?r.a.createElement("div",{className:se.a.status_editMode},r.a.createElement("input",{autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(s)},value:s,onChange:function(e){l(e.currentTarget.value)}})):r.a.createElement("div",{className:e.isOwner?se.a.status_item:se.a.status_not_yours,onClick:function(){c(!0)}},e.status))},me=Object(q.a)({form:"profile"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:ie.a.ProfileFormData},r.a.createElement("div",null,r.a.createElement("b",null,"Full Name:")," ",r.a.createElement(Q.a,{placeholder:"Full Name",autocomplete:"off",name:"fullName",component:"input",type:"text"})),r.a.createElement("div",{className:ie.a.about},r.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," ",r.a.createElement(Q.a,{placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",autocomplete:"off",name:"aboutMe",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("b",null,"Instagram:")," ",r.a.createElement(Q.a,{placeholder:"Instagram",autocomplete:"off",name:"contacts.instagram",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("b",null,"YouTube:")," ",r.a.createElement(Q.a,{placeholder:"YouTube",autocomplete:"off",name:"contacts.youtube",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("b",null,"Description:")," ",r.a.createElement(Q.a,{placeholder:"Descriptione",autocomplete:"off",name:"lookingForAJobDescription",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job:")," ",r.a.createElement(Q.a,{name:"lookingForAJob",component:"input",type:"checkbox"})),r.a.createElement("button",{className:ie.a.save},"Save"),e.error?r.a.createElement("div",{className:ie.a.error},e.error):r.a.createElement("span",null))}));var fe=function(e){var t=Object(n.useState)(!1),a=Object(oe.a)(t,2),o=a[0],c=a[1];return e.profile?r.a.createElement("div",{className:ie.a.info},r.a.createElement("div",{className:ie.a.name},r.a.createElement("b",null,e.profile.fullName)),r.a.createElement(le,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),r.a.createElement("div",{className:ie.a.info_item},r.a.createElement("div",{className:ie.a.about},r.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," ",e.profile.aboutMe?e.profile.aboutMe:"---"),r.a.createElement("div",null,r.a.createElement("b",null,"Instagram:")," ",e.profile.contacts.instagram?e.profile.contacts.instagram:"---"),r.a.createElement("div",null,r.a.createElement("b",null,"YouTube:")," ",e.profile.contacts.youtube?e.profile.contacts.youtube:"---"),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job:")," ",e.profile.lookingForAJob?"Yes":"No"),e.profile.lookingForAJob?r.a.createElement("div",null,r.a.createElement("b",null,"My professional skills:")," ",e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:"---"):null,e.isOwner?r.a.createElement("button",{className:ie.a.edit,onClick:function(){c(!0)}},"Edit"):null),o?r.a.createElement(me,{initialValues:e.profile,onSubmit:function(t){e.saveInfo(t),c(!1)},setEditMode:c}):null):r.a.createElement("div",{className:ie.a.info},r.a.createElement("img",{className:ie.a.preloader,src:Z.a}))};var pe=function(e){return r.a.createElement("div",{className:H.a.Profile},r.a.createElement("div",{className:H.a.col1},r.a.createElement(K,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto})),r.a.createElement("div",{className:H.a.col2},r.a.createElement(fe,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,saveInfo:e.saveInfo}),r.a.createElement(re,null)))},de=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.AuthUserId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return console.log("render"),r.a.createElement(pe,Object.assign({},this.props,{isOwner:!this.props.match.params.userId}))}}]),a}(n.PureComponent),ve=a(26),Ee=a(71),be=a(7),he=Object(be.d)(Object(I.b)((function(e){return{profile:e.profile.userProfile,isAuth:e.auth.isAuth,status:e.profile.status,AuthUserId:e.auth.id}}),(function(e){return{getUserProfile:function(t){e(G(t))},getStatus:function(t){e(function(e){return function(){var t=Object(p.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.b.getStatus(e);case 2:n=t.sent,a(M(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updateStatus:function(t){e(function(e){return function(){var t=Object(p.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(M(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},savePhoto:function(t){e(function(e){return function(){var t=Object(p.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.b.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&a({type:"SET-PHOTO",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},saveInfo:function(t){e(function(e){return function(){var t=Object(p.a)(f.a.mark((function t(a,n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.id,t.next=3,v.b.saveInfo(e);case 3:0===t.sent.data.resultCode?a(G(r)):a(Object(E.a)("profile",{_error:"wrong URL"}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}})),ve.f,Ee.a)(de),_e=a(40),Oe=a.n(_e);function ge(e){return r.a.createElement("div",{className:Oe.a.friends_item},r.a.createElement("img",{src:e.photo,className:Oe.a.ava}),e.name,r.a.createElement("div",{className:Oe.a.status},'"',e.status,'"'),r.a.createElement("div",{className:Oe.a.location},e.location),r.a.createElement("div",{className:Oe.a.button},r.a.createElement("button",{onClick:function(){}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439")))}var je=function(e){0===e.friendsData.length&&P.get("https://social-network.samuraijs.com/api/1.0/users").then((function(t){e.setFriends(t.data.items)}));var t=e.friendsData.map((function(e){return r.a.createElement(ge,{name:e.name,key:e.id,status:e.status,location:e.location,photo:null!=e.photos.small?e.photos.small:k.a})})),a=r.a.createRef();return r.a.createElement("div",{className:Oe.a.friends},r.a.createElement("input",{onChange:function(){var t=a.current.value;e.updateNewFriendSeekText(t)},value:e.newFriendSeekText,placeholder:"\u041f\u043e\u0438\u0441\u043a",ref:a}),t)},Se={friendsData:[],newFriendSeekText:""};var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;return"UPDATE-NEW-FRIENDS-SEEK-TEXT"===t.type?Object(d.a)(Object(d.a)({},e),{},{newFriendSeekText:t.newText}):"SET-FRIENDS"===t.type?Object(d.a)(Object(d.a)({},e),{},{friendsData:[].concat(Object(L.a)(e.friendsData),Object(L.a)(t.friendsData))}):e},ye=Object(be.d)(Object(I.b)((function(e){return{friendsData:e.friends.friendsData,newFriendSeekText:e.friends.newFriendSeekText,isAuth:e.auth.isAuth}}),(function(e){return{updateNewFriendSeekText:function(t){e(function(e){return{type:"UPDATE-NEW-FRIENDS-SEEK-TEXT",newText:e}}(t))},setFriends:function(t){e(function(e){return{type:"SET-FRIENDS",friendsData:e}}(t))}}})),Ee.a)(je),we=a(77),ke=a.n(we);function Te(e){return e?void 0:"error message"}var xe=a(140),Pe=a(99),Ce=a.n(Pe);function Ie(e){var t=e.input,a=e.meta,n=Object(xe.a)(e,["input","meta"]),o=a.touched&&a.error;return r.a.createElement("div",{className:Ce.a.form+" "+(o?Ce.a.error:"")},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,n))),o?r.a.createElement("span",null,a.error):r.a.createElement("span",null))}var De,Ae=(De=20,function(e){return e.length>De?"Max length is ".concat(De," symbols"):void 0});var Ue=Object(q.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(Q.a,{placeholder:"Email",name:"email",component:Ie,validate:[Te,Ae]})),r.a.createElement("div",null,r.a.createElement(Q.a,{type:"password",placeholder:"Password",name:"password",component:Ie,validate:[Te,Ae]})),e.error?r.a.createElement("div",{className:ke.a.error},e.error):r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement(Q.a,{type:"checkbox",name:"rememberMe",component:Ie})," Remember me"),e.captchaUrl?r.a.createElement("img",{src:e.captchaUrl}):null,e.captchaUrl?r.a.createElement(Q.a,{placeholder:"captcha",component:Ie,name:"captcha",validate:Te}):null,r.a.createElement("div",null,r.a.createElement("button",null,"Login")))}));var Fe=function(e){return e.isAuth?r.a.createElement(ve.a,{to:"/profile"}):r.a.createElement("div",{className:ke.a.login},r.a.createElement("div",{className:ke.a.reg},r.a.createElement("h2",null,"Login"),r.a.createElement(Ue,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})))},Le=Object(I.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),(function(e){return{login:function(t,a,n,r){e(function(e,t,a,n){return function(){var r=Object(p.a)(f.a.mark((function r(o){var c;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.a.login(e,t,a,n);case 2:0===(c=r.sent).data.resultCode?o(O()):(10===c.data.resultCode&&o(j()),o(Object(E.a)("login",{_error:"wrong email or password"})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,a,n,r))},logout:function(){e(g())}}}))(Fe),Re=a(138),Me=a.n(Re);var Ge=function(){return r.a.createElement("div",{className:Me.a.music})},ze={initialized:!1};var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;return"INITIALIZED-SUCCESS"===t.type?Object(d.a)(Object(d.a)({},e),{},{initialized:!0}):e},He=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",{className:"Loading"},"Loading...")},r.a.createElement(e,t))}},Je=a(130),Be=a(131),Ye=a(139),Ze=a(134),Ke=Object(be.c)({profile:z,dialogue:Je.b,friends:Ne,users:Be.a,auth:S,form:Ze.a,app:We}),Ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.d,Xe=Object(be.e)(Ke,Ve(Object(be.a)(Ye.a))),Qe=r.a.lazy((function(){return a.e(3).then(a.bind(null,301))})),qe=r.a.lazy((function(){return a.e(4).then(a.bind(null,300))})),$e=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppThunkCreator()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("div",{className:"container"},r.a.createElement(F,null),r.a.createElement(ve.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(ve.b,{path:"/friends",render:function(){return r.a.createElement(ye,null)}}),r.a.createElement(ve.b,{path:"/dialogue",render:He(Qe)}),r.a.createElement(ve.b,{path:"/music",render:function(){return r.a.createElement(Ge,null)}}),r.a.createElement(ve.b,{path:"/users",render:He(qe)}),r.a.createElement(ve.b,{path:"/login",render:function(){return r.a.createElement(Le,null)}}))):null}}]),a}(r.a.Component),et=Object(be.d)(Object(I.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunkCreator:function(){return function(e){var t=e(O());Promise.all([t]).then((function(){e({type:"INITIALIZED-SUCCESS"})}))}}}),ve.f)($e),tt=function(e){return r.a.createElement(I.a,{store:Xe},r.a.createElement(T.a,{basename:"/react"},r.a.createElement(et,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){e.exports=a.p+"static/media/ava.c145c92d.png"},40:function(e,t,a){e.exports={friends:"friends_friends__3lCVm",friends_item:"friends_friends_item__1Nz7Z",ava:"friends_ava__3zzUu",status:"friends_status__2IzFl",location:"friends_location__2qj_S",button:"friends_button__59NZa"}},47:function(e,t,a){e.exports={post:"post_post__3kDcM",block:"post_block__1i8TN",name:"post_name__3KHp-",ava:"post_ava__1tv7k",like:"post_like__3c6fo"}},50:function(e,t,a){e.exports=a.p+"static/media/preloader.48d2f088.svg"},59:function(e,t,a){e.exports={box_avatar:"avatar_box_avatar__1Is0t",avatar:"avatar_avatar__20MNM"}},60:function(e,t,a){e.exports={status:"status_status__3CsZ_",status_item:"status_status_item__N8TvA",status_not_yours:"status_status_not_yours__Z5e2-",status_editMode:"status_status_editMode__3xJPI"}},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(30),r=a(31),o=a(33),c=a(32),i=a(0),u=a.n(i),s=a(26),l=function(e){return function(t){Object(o.a)(i,t);var a=Object(c.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return!1===this.props.isAuth?u.a.createElement(s.a,{to:"/login"}):u.a.createElement(e,this.props)}}]),i}(u.a.Component)}},74:function(e,t,a){e.exports={header:"header_header__VHtov",container:"header_container__15CE4",logout:"header_logout__1AARQ"}},75:function(e,t,a){e.exports={Profile:"profile_Profile__3Ko6P",col1:"profile_col1__3FTuu",avatar:"profile_avatar__YBUlS",col2:"profile_col2__26V_Q"}},77:function(e,t,a){e.exports={login:"login_login__3t-j8",reg:"login_reg__2ivQY",error:"login_error__2zvcj"}},96:function(e,t,a){e.exports={posts:"MyPost_posts__1wvkX",MyPosts:"MyPost_MyPosts__3HMtA"}},99:function(e,t,a){e.exports={form:"formsControls_form__3jx_M",error:"formsControls_error__4b0wm"}}},[[166,1,2]]]);
//# sourceMappingURL=main.eb8e797a.chunk.js.map