(this["webpackJsonpmy-app-1"]=this["webpackJsonpmy-app-1"]||[]).push([[0],{11:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return u}));var n=a(42),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"b2726463-4ea3-47eb-bcfd-476551e2680d"}}),o={getUsers:function(e,t){return r.get("users?=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))},getProfile:function(e){return console.warn("!\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 profileAPI!"),c.getProfile(e)}},c={getProfile:function(e){return r.get("profile/"+e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveInfo:function(e){return r.put("/profile",e)}},i={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},u={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},130:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"g",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(139);function r(e){return e.users.usersData}var o=Object(n.a)(r,s,(function(e,t){return e.filter((function(e){return!0===e.followed}))}));function c(e){return e.users.pageSize}function i(e){return e.users.totalUsersCount}function u(e){return e.users.currentPage}function s(e){return e.users.isFetching}function l(e){return e.users.followingProcess}},131:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(21),r=a(4),o={dialoguesData:[{id:1,name:"Alex"},{id:2,name:"Dima"},{id:3,name:"Nicita"},{id:4,name:"Alex"},{id:5,name:"Dima"},{id:6,name:"Nicita"},{id:7,name:"Bob"}],messagesData:[{id:1,message:"hi"}]};function c(e){return{type:"SEND-SMS",smsText:e}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if("SEND-SMS"===t.type){var a={id:2,message:t.smsText};return Object(r.a)(Object(r.a)({},e),{},{messagesData:[].concat(Object(n.a)(e.messagesData),[a])})}return e}},132:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return E})),a.d(t,"e",(function(){return b}));var n=a(9),r=a.n(n),o=a(14),c=a(21),i=a(4),u=a(11),s={usersData:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingProcess:[]};function l(e){return{type:"FOLLOW",userId:e}}function f(e){return{type:"UNFOLLOW",userId:e}}function m(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}}function p(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROCRSS",isFetching:e,userId:t}}function d(e){return{type:"SET-CURRENT-PAGE",currentPage:e}}var v=function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(m(!0)),a.next=3,u.d.getUsers(e,t);case 3:o=a.sent,n(m(!1)),n({type:"SET-USERS",usersData:o.items}),n({type:"SET-TOTAL-USERS-COUNT",totalUsersCount:40});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(p(!0,e)),t.next=3,u.d.follow(e);case 3:0===t.sent.data.resultCode&&a(l(e)),a(p(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(p(!0,e)),t.next=3,u.d.unfollow(e);case 3:0===t.sent.data.resultCode&&a(f(e)),a(p(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return"FOLLOW"===t.type?Object(i.a)(Object(i.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))}):"UNFOLLOW"===t.type?Object(i.a)(Object(i.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))}):"SET-USERS"===t.type?Object(i.a)(Object(i.a)({},e),{},{usersData:Object(c.a)(t.usersData)}):"SET-CURRENT-PAGE"===t.type?Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage}):"SET-TOTAL-USERS-COUNT"===t.type?Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount}):"TOGGLE-IS-FETCHING"===t.type?Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching}):"TOGGLE-IS-FOLLOWING-PROCRSS"===t.type?Object(i.a)(Object(i.a)({},e),{},{followingProcess:t.isFetching?[].concat(Object(c.a)(e.followingProcess),[t.userId]):e.followingProcess.filter((function(e){return e!=t.userId}))}):e}},167:function(e,t,a){e.exports=a(294)},172:function(e,t,a){},173:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},174:function(e,t,a){},19:function(e,t,a){e.exports={info:"Info_info__13ByE",preloader:"Info_preloader__1dcEk",name:"Info_name__7yGf2",about:"Info_about__CilcP",info_item:"Info_info_item__14fQf",edit:"Info_edit__20f4T",ProfileFormData:"Info_ProfileFormData__1SKb6",animatetop:"Info_animatetop__31gPs",save:"Info_save__1exzI",error:"Info_error__3gLCL"}},25:function(e,t,a){e.exports={links:"links_links__2GEia",item:"links_item__Z0nEf",active:"links_active__wvS_0"}},294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(69),c=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(172);var i=a(30),u=a(31),s=a(33),l=a(32),f=(a(173),a(174),a(9)),m=a.n(f),p=a(14),d=a(4),v=a(11),E=a(28),b={id:null,email:null,login:null,captchaUrl:null,isAuth:!1};function h(e,t,a,n){return{type:"SET-USER-DATA",data:{id:e,email:t,login:a,isAuth:n}}}function _(e){return{type:"GET-CAPTCHA-URL",captchaUrl:{captchaUrl:e}}}var O=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.me();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,o=n.email,c=n.login,t(h(r,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.logout();case 2:0===e.sent.data.resultCode&&t(h(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.c.getCaptchaUrl();case 2:a=e.sent,n=a.data.url,t(_(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return"SET-USER-DATA"===t.type?Object(d.a)(Object(d.a)({},e),t.data):"GET-CAPTCHA-URL"===t.type?Object(d.a)(Object(d.a)({},e),t.captchaUrl):e},y=a(74),N=a.n(y),w=a(38),P=a.n(w),k=a(12);var x=function(e){return r.a.createElement("div",{className:N.a.header},r.a.createElement("div",{className:N.a.container},r.a.createElement("span",null,r.a.createElement("b",null,e.login?e.login+"Book":"O\u043b\u043e\u043b\u0435\u0448\u0430Book")),r.a.createElement("span",null,e.isAuth?r.a.createElement("div",null,r.a.createElement("button",{onClick:e.logout,className:N.a.logout},"Logout")):r.a.createElement(k.b,{to:"/login"},"Login"))))},T=a(42),C=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(x,this.props)}}]),a}(r.a.Component),I=a(10),D=Object(I.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),(function(e){return{logout:function(){e(g())}}}))(C),U=a(25),A=a.n(U);var L=function(){return r.a.createElement("div",{className:A.a.links},r.a.createElement(k.b,{to:"profile",activeClassName:A.a.active},r.a.createElement("div",{className:A.a.item},"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430")),r.a.createElement(k.b,{to:"dialogue",activeClassName:A.a.active},r.a.createElement("div",{className:A.a.item},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),r.a.createElement(k.b,{to:"friends",activeClassName:A.a.active},r.a.createElement("div",{className:A.a.item},"\u0414\u0440\u0443\u0437\u044c\u044f")),r.a.createElement(k.b,{to:"Users",activeClassName:A.a.active},r.a.createElement("div",{className:A.a.item},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")))},F=a(21),M={postsData:[{id:1,name:"Alex",likeCounts:"22",text:"\u041f\u043e\u0433\u043e\u0434\u0430 \u0445\u043e\u0440\u043e\u0448\u0430\u044f"},{id:2,name:"Dima",likeCounts:"10"},{id:3,name:"Nikita",likeCounts:"0"}],userProfile:null,status:""};function R(e){return{type:"SET-STATUS",status:e}}var G=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.d.getProfile(e);case 2:n=t.sent,a({type:"SET-USER-PROFILE",userProfile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;if("ADD-POST"===t.type){var a={id:0,name:"Rick",text:t.postText,likeCounts:0};return Object(d.a)(Object(d.a)({},e),{},{postsData:[a].concat(Object(F.a)(e.postsData))})}return"DELETE-POST"===t.type?(e.postsData.splice(t.id,1),Object(d.a)(Object(d.a)({},e),{},{postsData:Object(F.a)(e.postsData)})):"SET-USER-PROFILE"===t.type?Object(d.a)(Object(d.a)({},e),{},{userProfile:t.userProfile}):"SET-STATUS"===t.type?Object(d.a)(Object(d.a)({},e),{},{status:t.status}):"SET-PHOTO"===t.type?Object(d.a)(Object(d.a)({},e),{},{userProfile:Object(d.a)(Object(d.a)({},e.userProfile),{},{photos:t.photos})}):"SET_INFO"===t.type?Object(d.a)(Object(d.a)({},e),{},{userProfile:Object(d.a)(Object(d.a)({},e.userProfile),{},{"???":t.info})}):e},J=a(75),H=a.n(J),B=a(40),W=a.n(B),Y=a(51),Z=a.n(Y);var V=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",{className:W.a.box_avatar},r.a.createElement("div",{className:W.a.avatar},r.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:P.a}))),r.a.createElement("div",null,e.isOwner?r.a.createElement("div",null,r.a.createElement("input",{className:W.a.file,type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),r.a.createElement("button",{className:W.a.button},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443")):null)):r.a.createElement("div",{className:W.a.box_avatar},r.a.createElement("div",{className:W.a.avatar},r.a.createElement("img",{src:Z.a})))},K=a(96),Q=a.n(K),X=a(133),q=a(134),$=a(41),ee=a.n($);var te=function(e){return r.a.createElement("div",{className:ee.a.post},r.a.createElement("img",{className:ee.a.ava,src:P.a}),r.a.createElement("div",{className:ee.a.block},r.a.createElement("div",{className:ee.a.name},e.name),r.a.createElement("div",null,e.text),r.a.createElement("div",{className:ee.a.like},e.likeCounts," like")),e.isOwner?r.a.createElement("div",{className:ee.a.delete,onClick:function(){e.deletePost(e.id-1)}}):null)};var ae=Object(q.a)({form:"post"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(X.a,{autocomplete:"off",placeholder:"\u0427\u0442\u043e \u0443 \u0412\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",name:"postText",component:"input"})),r.a.createElement("button",null,"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"))}));var ne=function(e){var t=e.postsData.map((function(t){return r.a.createElement(te,{name:t.name,id:t.id,key:t.id,text:t.text,likeCounts:t.likeCounts,deletePost:e.deletePost,isOwner:e.isOwner})}));return r.a.createElement("div",{className:Q.a.posts},r.a.createElement("span",{className:Q.a.MyPosts},"\u041c\u043e\u0438 \u041f\u043e\u0441\u0442\u044b",r.a.createElement(ae,{onSubmit:function(t){e.addPost(t.postText)}})),t)},re=Object(I.b)((function(e){return{postsData:e.profile.postsData}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",postText:e}}(t))},deletePost:function(t){e(function(e){return{type:"DELETE-POST",id:e}}(t))}}}))(ne),oe=a(55),ce=a(19),ie=a.n(ce),ue=a(60),se=a.n(ue);var le=function(e){var t=Object(n.useState)(!1),a=Object(oe.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(e.status),u=Object(oe.a)(i,2),s=u[0],l=u[1];return Object(n.useEffect)((function(){l(e.status)}),[e.status]),r.a.createElement("div",{className:se.a.status},e.isOwner&&o?r.a.createElement("div",{className:se.a.status_editMode},r.a.createElement("input",{autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(s)},value:s,onChange:function(e){l(e.currentTarget.value)}})):r.a.createElement("div",{className:e.isOwner?se.a.status_item:se.a.status_not_yours,onClick:function(){c(!0)}},e.status))},fe=Object(q.a)({form:"profile"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:ie.a.ProfileFormData},r.a.createElement("div",null,r.a.createElement("b",null,"Full Name:")," ",r.a.createElement(X.a,{placeholder:"Full Name",autocomplete:"off",name:"fullName",component:"input",type:"text"})),r.a.createElement("div",{className:ie.a.about},r.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," ",r.a.createElement(X.a,{placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",autocomplete:"off",name:"aboutMe",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("b",null,"Instagram:")," ",r.a.createElement(X.a,{placeholder:"Instagram",autocomplete:"off",name:"contacts.instagram",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("b",null,"YouTube:")," ",r.a.createElement(X.a,{placeholder:"YouTube",autocomplete:"off",name:"contacts.youtube",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("b",null,"Description:")," ",r.a.createElement(X.a,{placeholder:"Descriptione",autocomplete:"off",name:"lookingForAJobDescription",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job:")," ",r.a.createElement(X.a,{name:"lookingForAJob",component:"input",type:"checkbox"})),r.a.createElement("button",{className:ie.a.save},"Save"),e.error?r.a.createElement("div",{className:ie.a.error},e.error):r.a.createElement("span",null))}));var me=function(e){var t=Object(n.useState)(!1),a=Object(oe.a)(t,2),o=a[0],c=a[1];return e.profile?r.a.createElement("div",{className:ie.a.info},r.a.createElement("div",{className:ie.a.name},r.a.createElement("b",null,e.profile.fullName)),r.a.createElement(le,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),r.a.createElement("div",{className:ie.a.info_item},r.a.createElement("div",{className:ie.a.about},r.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," ",e.profile.aboutMe?e.profile.aboutMe:"---"),r.a.createElement("div",null,r.a.createElement("b",null,"Instagram:")," ",e.profile.contacts.instagram?e.profile.contacts.instagram:"---"),r.a.createElement("div",null,r.a.createElement("b",null,"YouTube:")," ",e.profile.contacts.youtube?e.profile.contacts.youtube:"---"),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job:")," ",e.profile.lookingForAJob?"Yes":"No"),e.profile.lookingForAJob?r.a.createElement("div",{className:ie.a.about},r.a.createElement("b",null,"My professional skills:")," ",e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:"---"):null,e.isOwner?r.a.createElement("button",{className:ie.a.edit,onClick:function(){c(!0)}},"Edit"):null),o?r.a.createElement(fe,{initialValues:e.profile,onSubmit:function(t){e.saveInfo(t),c(!1)},setEditMode:c}):null):r.a.createElement("div",{className:ie.a.info},r.a.createElement("img",{className:ie.a.preloader,src:Z.a}))};var pe=function(e){return r.a.createElement("div",{className:H.a.Profile},r.a.createElement("div",{className:H.a.col1},r.a.createElement(V,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto})),r.a.createElement("div",{className:H.a.col2},r.a.createElement(me,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,saveInfo:e.saveInfo}),r.a.createElement(re,{isOwner:e.isOwner})))},de=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.AuthUserId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return console.log("render"),r.a.createElement(pe,Object.assign({},this.props,{isOwner:!this.props.match.params.userId}))}}]),a}(n.PureComponent),ve=a(26),Ee=a(71),be=a(7),he=Object(be.d)(Object(I.b)((function(e){return{profile:e.profile.userProfile,isAuth:e.auth.isAuth,status:e.profile.status,AuthUserId:e.auth.id}}),(function(e){return{getUserProfile:function(t){e(G(t))},getStatus:function(t){e(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.b.getStatus(e);case 2:n=t.sent,a(R(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updateStatus:function(t){e(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(R(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},savePhoto:function(t){e(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.b.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&a({type:"SET-PHOTO",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},saveInfo:function(t){e(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.id,t.next=3,v.b.saveInfo(e);case 3:0===t.sent.data.resultCode?a(G(r)):a(Object(E.a)("profile",{_error:"wrong URL"}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}})),ve.g,Ee.a)(de),_e=a(77),Oe=a.n(_e);function ge(e){return e?void 0:"error message"}var je=a(141),Se=a(99),ye=a.n(Se);function Ne(e){var t=e.input,a=e.meta,n=Object(je.a)(e,["input","meta"]),o=a.touched&&a.error;return r.a.createElement("div",{className:ye.a.form+" "+(o?ye.a.error:"")},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,n))),o?r.a.createElement("span",null,a.error):r.a.createElement("span",null))}var we,Pe=(we=20,function(e){return e.length>we?"Max length is ".concat(we," symbols"):void 0});var ke=Object(q.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(X.a,{placeholder:"Email",name:"email",component:Ne,validate:[ge,Pe]})),r.a.createElement("div",null,r.a.createElement(X.a,{type:"password",placeholder:"Password",name:"password",component:Ne,validate:[ge,Pe]})),e.error?r.a.createElement("div",{className:Oe.a.error},e.error):r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement(X.a,{type:"checkbox",name:"rememberMe",component:Ne})," Remember me"),e.captchaUrl?r.a.createElement("img",{src:e.captchaUrl}):null,e.captchaUrl?r.a.createElement(X.a,{placeholder:"captcha",component:Ne,name:"captcha",validate:ge}):null,r.a.createElement("div",null,r.a.createElement("button",null,"Login")))}));var xe=function(e){return e.isAuth?r.a.createElement(ve.a,{to:"/profile"}):r.a.createElement("div",{className:Oe.a.login},r.a.createElement("div",{className:Oe.a.reg},r.a.createElement("h2",null,"Login"),r.a.createElement(ke,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})))},Te=Object(I.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),(function(e){return{login:function(t,a,n,r){e(function(e,t,a,n){return function(){var r=Object(p.a)(m.a.mark((function r(o){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.a.login(e,t,a,n);case 2:0===(c=r.sent).data.resultCode?o(O()):(10===c.data.resultCode&&o(j()),o(Object(E.a)("login",{_error:"wrong email or password"})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,a,n,r))},logout:function(){e(g())}}}))(xe),Ce=a(48),Ie=a.n(Ce);function De(e){return r.a.createElement("div",{className:Ie.a.friends_item},r.a.createElement(k.b,{to:"/profile/"+e.id},r.a.createElement("img",{src:e.photo,className:Ie.a.ava})),e.name,r.a.createElement("div",{className:Ie.a.status},'"',e.status,'"'),r.a.createElement("div",{className:Ie.a.location},e.location))}var Ue=function(e){0===e.friendsData.length&&T.get("https://social-network.samuraijs.com/api/1.0/users").then((function(t){e.setFriends(t.data.items)}));var t=e.friendsData.map((function(e){return r.a.createElement(De,{name:e.name,key:e.id,id:e.id,status:e.status,location:e.location,photo:null!=e.photos.small?e.photos.small:P.a,followed:e.followed,if:e.id})}));return r.a.createElement("div",{className:Ie.a.friends},t)},Ae={friendsData:[],isFetching:!1,followingProcess:[]};var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return"SET-FRIENDS"===t.type?Object(d.a)(Object(d.a)({},e),{},{friendsData:[].concat(Object(F.a)(e.friendsData),Object(F.a)(t.friendsData))}):e},Fe=a(130),Me=Object(be.d)(Object(I.b)((function(e){return{friendsData:Object(Fe.g)(e),isAuth:e.auth.isAuth}}),(function(e){return{setFriends:function(t){e(function(e){return{type:"SET-FRIENDS",friendsData:e}}(t))}}})),Ee.a)(Ue),Re={initialized:!1};var Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;return"INITIALIZED-SUCCESS"===t.type?Object(d.a)(Object(d.a)({},e),{},{initialized:!0}):e},ze=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",{className:"Loading"},"Loading...")},r.a.createElement(e,t))}},Je=a(131),He=a(132),Be=a(140),We=a(135),Ye=Object(be.c)({profile:z,friends:Le,dialogue:Je.b,users:He.a,auth:S,form:We.a,app:Ge}),Ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.d,Ve=Object(be.e)(Ye,Ze(Object(be.a)(Be.a))),Ke=r.a.lazy((function(){return a.e(3).then(a.bind(null,301))})),Qe=r.a.lazy((function(){return a.e(4).then(a.bind(null,302))})),Xe=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppThunkCreator()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("div",{className:"container"},r.a.createElement(L,null),r.a.createElement(ve.d,null,r.a.createElement(ve.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(ve.b,{path:"/dialogue",render:ze(Ke)}),r.a.createElement(ve.b,{path:"/friends",render:function(){return r.a.createElement(Me,null)}}),r.a.createElement(ve.b,{path:"/users",render:ze(Qe)}),r.a.createElement(ve.b,{path:"/login",render:function(){return r.a.createElement(Te,null)}}),r.a.createElement(ve.b,{exact:!0,path:"/",render:function(){return r.a.createElement(he,null)}})))):null}}]),a}(r.a.Component),qe=Object(be.d)(Object(I.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunkCreator:function(){return function(e){var t=e(O());Promise.all([t]).then((function(){e({type:"INITIALIZED-SUCCESS"})}))}}}),ve.g)(Xe),$e=function(e){return r.a.createElement(I.a,{store:Ve},r.a.createElement(k.a,{basename:"/react"},r.a.createElement(qe,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){e.exports=a.p+"static/media/ava.c145c92d.png"},40:function(e,t,a){e.exports={box_avatar:"avatar_box_avatar__1Is0t",avatar:"avatar_avatar__20MNM",file:"avatar_file__2lIxJ",button:"avatar_button__28I0o"}},41:function(e,t,a){e.exports={post:"post_post__3kDcM",block:"post_block__1i8TN",name:"post_name__3KHp-",ava:"post_ava__1tv7k",like:"post_like__3c6fo",delete:"post_delete__cy_3o"}},48:function(e,t,a){e.exports={friends:"friends_friends__3lCVm",friends_item:"friends_friends_item__1Nz7Z",ava:"friends_ava__3zzUu",status:"friends_status__2IzFl",location:"friends_location__2qj_S",button:"friends_button__59NZa"}},51:function(e,t,a){e.exports=a.p+"static/media/preloader.48d2f088.svg"},60:function(e,t,a){e.exports={status:"status_status__3CsZ_",status_item:"status_status_item__N8TvA",status_not_yours:"status_status_not_yours__Z5e2-",status_editMode:"status_status_editMode__3xJPI"}},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(30),r=a(31),o=a(33),c=a(32),i=a(0),u=a.n(i),s=a(26),l=function(e){return function(t){Object(o.a)(i,t);var a=Object(c.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return!1===this.props.isAuth?u.a.createElement(s.a,{to:"/login"}):u.a.createElement(e,this.props)}}]),i}(u.a.Component)}},74:function(e,t,a){e.exports={header:"header_header__VHtov",container:"header_container__15CE4",logout:"header_logout__1AARQ"}},75:function(e,t,a){e.exports={Profile:"profile_Profile__3Ko6P",col1:"profile_col1__3FTuu",avatar:"profile_avatar__YBUlS",col2:"profile_col2__26V_Q"}},77:function(e,t,a){e.exports={login:"login_login__3t-j8",reg:"login_reg__2ivQY",error:"login_error__2zvcj"}},96:function(e,t,a){e.exports={posts:"MyPost_posts__1wvkX",MyPosts:"MyPost_MyPosts__3HMtA"}},99:function(e,t,a){e.exports={form:"formsControls_form__3jx_M",error:"formsControls_error__4b0wm"}}},[[167,1,2]]]);
//# sourceMappingURL=main.bed6aa0c.chunk.js.map