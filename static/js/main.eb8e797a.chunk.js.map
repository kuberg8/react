{"version":3,"sources":["api/api.js","redux/dialogue-reducer.js","redux/users-reducer.js","components/Music/music.module.css","logo.svg","components/Links/links.module.css","components/Profile/Info/Info.module.css","serviceWorker.js","redux/auth-reducer.js","components/Header/Header.js","components/Header/HeaderAPIComponent.js","components/Header/HeaderContainer.js","components/Links/Links.js","redux/profile-reducer.js","components/Profile/Avatar/Avatar.js","components/Profile/MyPosts/post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Info/status/statusWithHooks.js","components/Profile/Info/Info.js","components/Profile/Profile.js","components/Profile/ProfileAPIComponent.js","components/Profile/ProfileContainer.js","components/Friends/Friends.js","redux/friends-reducer.js","components/Friends/FriendsContainer.js","utils/validators.js","components/common/FormsControls/FormsControls.js","components/Login/Login.js","components/Login/LoginContainer.js","components/Music/Music.js","redux/app-reducer.js","hoc/withSuspense.js","redux/redux-store.js","App.js","index.js","assets/img/ava.png","components/Friends/friends.module.css","components/Profile/MyPosts/post/post.module.css","assets/img/preloader.svg","components/Profile/Avatar/avatar.module.css","components/Profile/Info/status/status.module.css","hoc/withAuthRedirect.js","components/Header/header.module.css","components/Profile/profile.module.css","components/Login/login.module.css","components/Profile/MyPosts/MyPost.module.css","components/common/FormsControls/formsControls.module.css"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","saveInfo","info","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","dialoguesData","id","name","messagesData","message","addSmsActionCreator","text","type","smsText","dialogueReducer","state","action","newSms","usersData","totalUsersCount","isFetching","followingProcess","followAC","unfollowAC","toggleIsFetchingAC","toggleFollowingProcessAC","setCurrentPageAC","pageNumber","getUsersThunkCreator","dispatch","a","items","followThunkCreator","resultCode","unfollowThunkCreator","usersReducer","map","u","followed","filter","module","exports","Boolean","window","location","hostname","match","captchaUrl","isAuth","setUserDataAC","getCaptchaUrlAC","getUserDataThunkCreator","logoutThunkCreator","getCaptchaURLThunkCreator","url","authReducer","Header","props","className","hd","header","container","onClick","to","HeaderAPIComponent","this","React","Component","HeaderContainer","connect","auth","Links","cl","links","activeClassName","active","item","postsData","likeCounts","userProfile","setStatusAC","getUserProfileThunkCreator","profileReducer","newPost","postText","photos","Avatar","profile","av","box_avatar","avatar","src","large","avaNull","isOwner","onChange","e","target","files","length","preloader","Post","st","ava","block","like","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","autocomplete","placeholder","component","MyPosts","postsElements","p","key","pt","posts","value","addPost","MyPostsContainer","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","status_editMode","autoFocus","onBlur","currentTarget","status_item","status_not_yours","ProfileReduxForm","inf","ProfileFormData","about","save","error","Info","fullName","info_item","aboutMe","contacts","instagram","youtube","lookingForAJob","lookingForAJobDescription","edit","initialValues","Profile","col1","col2","ProfileAPIComponent","params","AuthUserId","getUserProfile","refreshProfile","prevProps","prevState","snapshot","log","PureComponent","compose","getStatusThunkCreator","updateStatusThunkCreator","savePhotoThunkCreator","getState","stopSubmit","_error","saveInfoThunkCreator","withRouter","withAuthRedirect","Friends_item","fr","friends_item","photo","button","Friends","friendsData","setFriends","friendElements","f","small","userPhoto","newUFriendsElement","createRef","friends","current","updateNewFriendSeekText","newFriendSeekText","ref","friendsReducer","newText","updateNewFriendSeekTextAC","setFriendsAC","required","Input","input","meta","hasError","touched","fm","maxLength","maxLength20","LoginReduxForm","validate","lg","Login","reg","LoginContainer","loginThunkCreator","Music","mu","music","initialized","appReducer","withSuspense","Suspense","fallback","reducers","combineReducers","dialogue","users","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Dialogue","lazy","UsersContainer","App","initializeAppThunkCreator","path","render","ProfileContainer","FriendsContainer","AppContainer","promise","Promise","all","MainApp","basename","process","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.eb8e797a.chunk.js","sourcesContent":["import * as axios from 'axios'\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\" : \"b2726463-4ea3-47eb-bcfd-476551e2680d\"\r\n\t}\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance.get(`users?=${currentPage}&count=${pageSize}`)\r\n\t\t.then(response => response.data)\t\t\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t},\r\n\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn(\"!Используйте profileAPI!\")\r\n\t\treturn profileAPI.getProfile(userId)\r\n\t},\t\r\n\r\n}\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/` + userId)\r\n\t},\t\r\n\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/` + userId)\r\n\t},\r\n\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, { status: status})\r\n\t},\r\n\r\n\tsavePhoto(file) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append(\"image\", file)\r\n\t\treturn instance.put(`/profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\r\n\tsaveInfo(info) {\r\n\t\treturn instance.put(`/profile`, info)\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\t\t\r\n\t},\r\n\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`)\t\t\r\n\t}\r\n}","const SEND_SMS = 'SEND-SMS'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tdialoguesData: [\r\n\t\t{id:1, name: \"Alex\"},\r\n\t\t{id:2, name: \"Dima\"},\r\n\t\t{id:3, name: \"Nicita\"},\r\n\t\t{id:4, name: \"Alex\"},\r\n\t\t{id:5, name: \"Dima\"},\r\n\t\t{id:6, name: \"Nicita\"},\r\n\t\t{id:7, name: \"Bob\"},\r\n\t],\r\n\r\n\tmessagesData: [\r\n\t\t{id:1, message: \"hi\"},\r\n\t],\r\n}\r\n\r\n\r\n\r\nfunction dialogueReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === SEND_SMS) {\r\n\t\tlet newSms = {\r\n\t\tid: 2,\r\n\t\tmessage: action.smsText,\r\n\r\n\t\t};\r\n\t\t\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tmessagesData: [...state.messagesData, newSms],\r\n\t\t}\r\n\r\n\t} \r\n\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function addSmsActionCreator (text) {\r\n\treturn {\r\n\t\ttype: SEND_SMS,\r\n\t\tsmsText: text,\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default dialogueReducer;","import {usersAPI} from '../api/api.js'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROCESS = 'TOGGLE-IS-FOLLOWING-PROCRSS'\r\n\r\n\r\n\r\nlet initialState = {\r\n\tusersData:[\t],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingProcess: [],\r\n}\r\n\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === FOLLOW) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: state.usersData.map( (u) => {\r\n\t\t\t\tif(u.id === action.userId) {\r\n\t\t\t\t\treturn {...u, followed: true}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn u \r\n\t\t\t\t}\r\n\t\t\t}),\r\n\r\n\t\t}\r\n\r\n\t} else if(action.type === UNFOLLOW) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: state.usersData.map( (u) => {\r\n\t\t\t\tif(u.id === action.userId) {\r\n\t\t\t\t\treturn {...u, followed: false}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn u \r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t}\r\n\r\n\t} else if(action.type === SET_USERS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tusersData: [ ...action.usersData ],\r\n\t\t}\r\n\r\n\t} else if(action.type === SET_CURRENT_PAGE) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tcurrentPage: action.currentPage,\r\n\t\t}\r\n\r\n\t}else if(action.type === SET_TOTAL_USERS_COUNT) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\ttotalUsersCount: action.totalUsersCount,\r\n\t\t}\r\n\t} else if(action.type === TOGGLE_IS_FETCHING) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tisFetching: action.isFetching\r\n\t\t}\r\n\t} else if(action.type === TOGGLE_IS_FOLLOWING_PROCESS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tfollowingProcess:action.isFetching \r\n\t\t\t? [...state.followingProcess, action.userId]\r\n\t\t\t: state.followingProcess.filter(id => id != action.userId)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction followAC(userId) {\r\n\treturn {\r\n\t\ttype: FOLLOW,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n function unfollowAC(userId) {\r\n\treturn {\r\n\t\ttype: UNFOLLOW,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n\r\nfunction setUsersAC(usersData) {\r\n\treturn {\r\n\t\ttype: SET_USERS,\r\n\t\tusersData,\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction setTotalUsersCountAC(totalCount) {\r\n\treturn {\r\n\t\ttype: SET_TOTAL_USERS_COUNT,\r\n\t\ttotalUsersCount: totalCount\r\n\t}\r\n}\r\n\r\nfunction toggleIsFetchingAC(isFetching) {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FETCHING,\r\n\t\tisFetching\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction toggleFollowingProcessAC(isFetching, userId) {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FOLLOWING_PROCESS,\r\n\t\tisFetching,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function setCurrentPageAC(pageNumber) {\r\n\treturn {\r\n\t\ttype: SET_CURRENT_PAGE,\r\n\t\tcurrentPage: pageNumber,\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleIsFetchingAC(true) )\r\n\r\n\t\tlet data = await usersAPI.getUsers(currentPage, pageSize);\r\n\r\n\t\tdispatch( toggleIsFetchingAC(false) )\r\n\t\tdispatch( setUsersAC(data.items) )\t\r\n\t\tdispatch( setTotalUsersCountAC(40) )\t\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const followThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleFollowingProcessAC(true, userId) )\r\n\r\n\t\tlet response = await usersAPI.follow(userId)\r\n\t\t\t\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch( followAC(userId) )\r\n\t\t}\t\r\n\t\tdispatch( toggleFollowingProcessAC(false, userId) )\r\n\t}\r\n}\r\n\r\n\r\nexport const unfollowThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch( toggleFollowingProcessAC(true, userId) )\r\n\r\n\t\tlet response = await usersAPI.unfollow(userId)\r\n\t\t\t\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch( unfollowAC(userId) )\r\n\t\t}\t\r\n\t\tdispatch( toggleFollowingProcessAC(false, userId) )\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"music_music__1MNSt\"};","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"links\":\"links_links__2GEia\",\"item\":\"links_item__Z0nEf\",\"active\":\"links_active__wvS_0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"Info_info__13ByE\",\"preloader\":\"Info_preloader__1dcEk\",\"name\":\"Info_name__7yGf2\",\"about\":\"Info_about__CilcP\",\"info_item\":\"Info_info_item__14fQf\",\"edit\":\"Info_edit__20f4T\",\"ProfileFormData\":\"Info_ProfileFormData__1SKb6\",\"animatetop\":\"Info_animatetop__31gPs\",\"save\":\"Info_save__1exzI\",\"error\":\"Info_error__3gLCL\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {authAPI} from '../api/api.js'\r\nimport {securityAPI} from '../api/api.js'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA'\r\nconst GET_CAPTCHA_URL = 'GET-CAPTCHA-URL'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null, \r\n\tcaptchaUrl: null,\r\n\tisAuth: false,\r\n}\r\n\r\n\r\nfunction authReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === SET_USER_DATA) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t...action.data,\r\n\t\t};\r\n\t} else if(action.type === GET_CAPTCHA_URL) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t...action.captchaUrl,\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction setUserDataAC(id, email, login, isAuth) {\r\n\treturn {\r\n\t\ttype: SET_USER_DATA,\r\n\t\tdata: {id, email, login, isAuth}\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\nfunction getCaptchaUrlAC(captchaUrl) {\r\n\treturn {\r\n\t\ttype: GET_CAPTCHA_URL,\r\n\t\tcaptchaUrl: {captchaUrl}\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\nexport const getUserDataThunkCreator = () => {\r\n\treturn async (dispatch) => {\t\r\n\t\tlet response = await authAPI.me()\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tlet {id, email, login} = response.data.data\r\n\t\t\tdispatch( setUserDataAC(id, email, login, true) )\r\n\t\t}\t\t\t\t\r\n\t} \r\n}\r\n\r\n\r\nexport const loginThunkCreator = (email, password, rememberMe, captcha) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.login(email, password, rememberMe, captcha)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( getUserDataThunkCreator() )\r\n\t\t} else {\r\n\t\t\tif(response.data.resultCode === 10) {\r\n\t\t\t\tdispatch( getCaptchaURLThunkCreator() )\r\n\t\t\t}\r\n\t\t\tdispatch( stopSubmit(\"login\", {_error: \"wrong email or password\"}) )\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport const logoutThunkCreator = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await authAPI.logout()\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( setUserDataAC(null, null, null, false) )\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const getCaptchaURLThunkCreator = () => {\r\n\treturn async (dispatch) => {\r\n\t\tlet response = await securityAPI.getCaptchaUrl()\r\n\t\tlet captchaUrl = response.data.url\r\n\t\tdispatch( getCaptchaUrlAC(captchaUrl) )\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport  hd from './header.module.css';\r\nimport avaNull from '../../assets/img/ava.png'\r\n\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <div className={hd.header}>\r\n    \t<div className={hd.container}>\r\n\t    \t\t<span><b>{props.login ? props.login + \"Book\" : \"OлолешаBook\"}</b></span>\r\n\t    \t\t<span>\r\n\t    \t\t\t{ props.isAuth \r\n            ?\r\n              <div>\r\n                {/*<img src={props.profile.photos.small ? props.profile.photos.small : avaNull} />*/}\r\n                <button onClick={props.logout} className={hd.logout}>Logout</button>\r\n              </div> \r\n            : \r\n              <NavLink to={'/login'}>Login</NavLink> }\r\n\t    \t\t</span>\t\r\n    \t</div>\r\n    \t\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport Header from './Header.js'\r\nimport * as axios from 'axios'\r\n\r\nimport {authAPI} from '../../api/api.js'\r\n\r\n\r\n\r\nclass HeaderAPIComponent extends React.Component {\r\n\trender() {\r\n\t  return (\r\n\t    <Header {...this.props} />\r\n\t  )\r\n\t}\r\n}\r\n\r\nexport default HeaderAPIComponent","import React from 'react';\r\n\r\nimport {logoutThunkCreator} from '../../redux/auth-reducer.js'\r\nimport HeaderAPIComponent from './HeaderAPIComponent.js'\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    \tisAuth: state.auth.isAuth,\r\n    \tlogin: state.auth.login,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    \tlogout: () => { dispatch( logoutThunkCreator() ) }\r\n    }\r\n}\r\n\r\n\r\n//let withUrlDataContainerComponent = withRouter(HeaderAPIComponent)\r\n\r\n\r\nconst HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(HeaderAPIComponent);\r\n\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport  cl from './links.module.css';\r\n\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nfunction Links() {\r\n  return (\r\n    <div className={cl.links}>\r\n        <NavLink to=\"profile\" activeClassName={cl.active}>\r\n        \t<div className={cl.item}>\r\n        \t\tМоя страница\r\n        \t</div>\r\n        </NavLink>\r\n        <NavLink to=\"dialogue\" activeClassName={cl.active}>\r\n        \t<div className={cl.item}>\r\n        \t\tСообщения\r\n        \t</div>\r\n        </NavLink>\r\n        <NavLink to=\"friends\" activeClassName={cl.active}>\r\n            <div className={cl.item}>\r\n                Друзья\r\n            </div>\r\n        </NavLink>\r\n        <NavLink to=\"music\" activeClassName={cl.active}>\r\n        \t<div className={cl.item}>\r\n        \t\tМузыка\r\n        \t</div>\r\n        </NavLink>\r\n        <NavLink to=\"Users\" activeClassName={cl.active}>\r\n            <div className={cl.item}>\r\n                Пользователи\r\n            </div>\r\n        </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Links;","import {usersAPI} from '../api/api.js' \r\nimport {profileAPI} from '../api/api.js'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_STATUS = \"SET-STATUS\"\r\nconst SET_PHOTO = \"SET-PHOTO\"\r\nconst SET_INFO = \"SET_INFO\"\r\n\r\n\r\n\r\nlet initialState = {\r\n\tpostsData:[\r\n\t\t{id:1, name: \"Alex\", likeCounts:\"22\", text:\"Погода хорошая\"},\r\n\t\t{id:2, name: \"Dima\", likeCounts:\"10\"},\r\n\t\t{id:3, name: \"Nikita\", likeCounts:\"0\"},\r\n\t],\r\n\r\n\tuserProfile: null,\r\n\r\n\tstatus: \"\",\r\n}\r\n\r\n\r\nfunction profileReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === ADD_POST) {\r\n\t\tlet newPost = {\r\n\t\tid: 4,\r\n\t\tname: \"Rick\",\r\n\t\ttext: action.postText,\r\n\t\tlikeCounts: 0,\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tpostsData: [newPost, ...state.postsData],\r\n\t\t};\r\n\r\n\t}  else if(action.type === SET_USER_PROFILE) {\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tuserProfile: action.userProfile,\r\n\t\t}\r\n\t} else if(action.type === SET_STATUS) {\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tstatus: action.status,\r\n\t\t}\r\n\t} else if(action.type === SET_PHOTO) {\r\n\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tuserProfile: {...state.userProfile, photos: action.photos}\r\n\t\t}\r\n\t} else if(action.type === SET_INFO) {\r\n\t\t\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tuserProfile: {...state.userProfile, \"???\": action.info}\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function addPostActionCreator (text) {\r\n\treturn {\r\n\t\ttype: ADD_POST,\r\n\t\tpostText: text,\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction setUserProfileAC (userProfile) {\r\n\treturn {\r\n\t\ttype: SET_USER_PROFILE,\r\n\t\tuserProfile\r\n\t}\r\n}\r\n\r\nfunction setStatusAC(status) {\r\n\treturn {\r\n\t\ttype: SET_STATUS,\r\n\t\tstatus \r\n\t}\r\n}\r\n\r\n\r\nfunction setPhotoAC(photos) {\r\n\treturn {\r\n\t\ttype: SET_PHOTO,\r\n\t\tphotos \r\n\t}\r\n}\r\n\r\nfunction setInfoAC(info) {\r\n\treturn {\r\n\t\ttype: SET_INFO,\r\n\t\tinfo \r\n\t}\r\n}\r\n\r\n\r\nexport const getStatusThunkCreator = (userId) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await profileAPI.getStatus(userId)\r\n\t\tdispatch( setStatusAC(response.data) ) \r\n\t}\r\n}\r\n\r\n\r\nexport const updateStatusThunkCreator = (status) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await profileAPI.updateStatus(status)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( setStatusAC(status) ) \r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const getUserProfileThunkCreator = (userId) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await usersAPI.getProfile(userId)\r\n\t\tdispatch( setUserProfileAC(response.data) ) \r\n\t}\r\n}\r\n\r\n\r\nexport const savePhotoThunkCreator = (file) => {\r\n\treturn async (dispatch) => { \r\n\t\tlet response = await profileAPI.savePhoto(file)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( setPhotoAC(response.data.data.photos) ) \r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport const saveInfoThunkCreator = (info) => {\r\n\treturn async (dispatch, getState) => { \r\n\t\tlet userId = getState().auth.id\r\n\t\tlet response = await profileAPI.saveInfo(info)\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch( getUserProfileThunkCreator(userId) )  \r\n\t\t} else {\r\n\t\t\tdispatch( stopSubmit(\"profile\", {_error: \"wrong URL\"}) )\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport av from './avatar.module.css';\r\n\r\nimport preloader from '../../../assets/img/preloader.svg'\r\nimport avaNull from '../../../assets/img/ava.png'\r\n\r\n\r\nfunction Avatar(props) {\r\n\r\n\tif(!props.profile) {\r\n\t\treturn (\r\n\t\t\t<div className={av.box_avatar}>\r\n\t\t\t\t<div className={av.avatar}>\r\n\t\t\t\t\t<img src={preloader} />\r\n\t\t\t\t</div>\r\n            </div>\r\n\t\t)\r\n\t} \r\n\r\n\r\n\tlet pushAvatar = (e) => {\r\n\t\tif(e.target.files.length) {\r\n\t\t\tprops.savePhoto(e.target.files[0])\r\n\t\t}\r\n\t}\r\n\r\n  return (\r\n  \t<div>\r\n\t    <div className={av.box_avatar}>\r\n\t \t\t<div className={av.avatar}>\r\n\t \t\t\t<img src={props.profile.photos.large ? props.profile.photos.large : avaNull} />\r\n\t \t\t</div>\r\n\t    </div>\r\n  \t\t<div>\r\n \t\t\t{props.isOwner ? <input type=\"file\" onChange={pushAvatar} /> : null}\r\n \t\t</div>   \t\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Avatar;","import React from 'react';\r\nimport st from './post.module.css'\r\nimport ava from '../../../../assets/img/ava.png'\r\n\r\nfunction Post(props) {\r\n\treturn (\r\n\t\t<div className={st.post}>\r\n\t\t\t<img className={st.ava} src={ava} />\r\n\t\t\t<div className={st.block}>\r\n\t\t\t\t<div className={st.name}>{props.name}</div>\r\n\t\t\t\t<div>{props.text}</div>\r\n\t\t\t\t<div className={st.like}>{props.likeCounts} like</div>\r\n\t\t\t</div> \r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport pt from './MyPost.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\n\r\nimport Post from './post/Post.js'\r\n\r\n\r\n\r\n\r\nfunction PostForm(props) {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\tautocomplete=\"off\" \r\n\t\t\t\t\tplaceholder=\"Что у Вас нового?\" \r\n\t\t\t\t\tname=\"postText\" \r\n\t\t\t\t\tcomponent=\"input\" />\r\n\t\t\t</div>\r\n\t\t\t<button>Опубликовать</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst PostReduxForm = reduxForm({\r\n\tform: 'post'\r\n})(PostForm)\r\n\r\n\r\n\r\n\r\n\r\nfunction MyPosts(props) {\r\n\r\n\tlet postsElements = props.postsData.map( (p) => {\r\n\t\treturn (<Post name={p.name} key={p.id} text={p.text} likeCounts={p.likeCounts} />)\r\n\t})\r\n\r\n\r\n\r\n\tfunction AddNewPost(value) {\r\n\t\tprops.addPost(value.postText) \r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className={pt.posts}>\r\n\t\t\t<span className={pt.MyPosts}>\r\n\t\t\t\tМои Посты\r\n\t\t\t\t<PostReduxForm onSubmit={AddNewPost} />\r\n\t\t\t</span>\r\n\t\t\t{postsElements}\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\n\r\nimport {addPostActionCreator, } from '../../../redux/profile-reducer.js'\r\nimport MyPosts from './MyPosts.js'\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tpostsData: state.profile.postsData,\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (text) => { dispatch( addPostActionCreator(text) ) },\r\n\t}\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, {useState, useEffect} from 'react';\r\nimport st from './status.module.css';\r\n\r\n\r\nfunction  ProfileStatusWithHooks(props) {\r\n\r\n\tlet [editMode, setEditMode] = useState(false)\r\n\tlet [status, setStatus] = useState(props.status)\r\n\r\n\r\n\tuseEffect( () => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status])\r\n\r\n\r\n\tlet activateEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t}\r\n\r\n\tlet deactivateEditMode = () => {\r\n\t\tsetEditMode(false)\r\n\t\tprops.updateStatus(status)\r\n\t}\r\n\r\n\tlet onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={st.status}>\r\n\t\t\t{(props.isOwner ? editMode : false) \r\n\t\t\t\t?  \r\n\t\t\t\t<div className={st.status_editMode}>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tonBlur={deactivateEditMode}\r\n\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t\tonChange={onStatusChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t: \r\n\t\t\t\t<div \r\n\t\t\t\t\tclassName={props.isOwner ? st.status_item : st.status_not_yours}\r\n\t\t\t\t\tonClick={activateEditMode} >\r\n\t\t\t\t\t\t{props.status}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\t\t\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React, {useState} from 'react';\r\nimport inf from './Info.module.css';\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\nimport preloader from '../../../assets/img/preloader.svg'\r\nimport ProfileStatus from './status/statusWithHooks.js'\r\n\r\n\r\n\r\n\r\nconst ProfileForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit} className={inf.ProfileFormData}>\r\n\t\t\t<div>\r\n\t\t\t\t<b>Full Name:</b> <Field placeholder=\"Full Name\" autocomplete=\"off\" name=\"fullName\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={inf.about}>\r\n\t\t\t\t<b>Обо мне:</b> <Field placeholder=\"Обо мне\" autocomplete=\"off\" name=\"aboutMe\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<b>Instagram:</b> <Field placeholder=\"Instagram\" autocomplete=\"off\" name=\"contacts.instagram\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<b>YouTube:</b> <Field placeholder=\"YouTube\" autocomplete=\"off\" name=\"contacts.youtube\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<b>Description:</b> <Field placeholder=\"Descriptione\" autocomplete=\"off\" name=\"lookingForAJobDescription\" component=\"input\" type=\"text\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<b>Looking for a job:</b> <Field name=\"lookingForAJob\" component=\"input\" type=\"checkbox\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button className={inf.save}>Save</button>\r\n\r\n\t\t\t{props.error ?\r\n\t\t\t\t<div className={inf.error}>\r\n\t\t\t\t\t{props.error}\r\n\t\t\t\t</div>\r\n\t\t\t\t: <span></span>}\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\n\r\nconst ProfileReduxForm = reduxForm({\r\n\tform: 'profile'\r\n})(ProfileForm)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Info(props) {\r\n\r\n\tlet [editMode, setEditMode] = useState(false)\r\n\r\n\r\n\tif(!props.profile) {\r\n\t\treturn (\r\n\t\t\t<div className={inf.info}>\r\n\t\t\t\t<img className={inf.preloader} src={preloader} />\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t} \r\n\r\n\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.saveInfo(formData)\r\n\t\tsetEditMode(false)\r\n\t}\t\r\n\r\n\treturn (\r\n\t\t<div className={inf.info}>\r\n\r\n\t\t\t<div className={inf.name}>\r\n\t\t\t\t<b>{props.profile.fullName}</b>\r\n\t\t\t</div>\r\n\r\n\t\t\t<ProfileStatus status={props.status} updateStatus={props.updateStatus} isOwner={props.isOwner} />\r\n\t\t\t\r\n\t\t\t<div className={inf.info_item}>\r\n\t\t\t\t<div className={inf.about}>\r\n\t\t\t\t\t<b>Обо мне:</b> {props.profile.aboutMe ? props.profile.aboutMe : \"---\"}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Instagram:</b> {props.profile.contacts.instagram ? props.profile.contacts.instagram : \"---\"}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>YouTube:</b> {props.profile.contacts.youtube ? props.profile.contacts.youtube : \"---\"}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Looking for a job:</b> {props.profile.lookingForAJob ? \"Yes\" : \"No\"}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{props.profile.lookingForAJob ?\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>My professional skills:</b> {props.profile.lookingForAJobDescription ? props.profile.lookingForAJobDescription : \"---\"}\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t:\r\n\t\t\t\t\tnull\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{props.isOwner ? <button className={inf.edit} onClick={ () => {setEditMode(true)}}>Edit</button> : null}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\t\t\t{editMode ? <ProfileReduxForm initialValues={props.profile} onSubmit={onSubmit} setEditMode={setEditMode} /> : null}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Info;","import React from 'react';\r\nimport cl from './profile.module.css';\r\n\r\nimport Avatar from './Avatar/Avatar.js'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer.js'\r\nimport Info from './Info/Info.js'\r\n\r\n\r\n\r\nfunction Profile(props) {\r\n  return (\r\n    <div className={cl.Profile}>\r\n    \t<div className={cl.col1}>\r\n    \t\t<Avatar profile={props.profile} isOwner={props.isOwner} savePhoto={props.savePhoto} />\r\n    \t</div>\r\n\r\n    \t<div className={cl.col2}>\r\n    \t\t<Info \r\n                profile={props.profile} \r\n                isOwner={props.isOwner} \r\n                status={props.status} \r\n                updateStatus={props.updateStatus}\r\n                saveInfo={props.saveInfo} />\r\n    \t\t<MyPostsContainer />\r\n    \t</div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Profile;","import React, {PureComponent} from 'react';\r\n\r\nimport Profile from './Profile.js'\r\nimport * as axios from 'axios'\r\n\r\n\r\n\r\n\r\nclass ProfileAPIComponent extends PureComponent {\r\n\r\n\trefreshProfile() {\r\n\t\tlet userId = this.props.match.params.userId\r\n\t\tif(!userId) {\r\n\t\t\tuserId = this.props.AuthUserId\r\n\t\t}\r\n\t\tthis.props.getUserProfile(userId)\r\n\t\tthis.props.getStatus(userId)\t\t\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile()\r\n\t}\r\n\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif(this.props.match.params.userId != prevProps.match.params.userId) {\r\n\t\t\tthis.refreshProfile()\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconsole.log(\"render\")\r\n\t  return (\r\n\t    <Profile {...this.props} /*передает все пропсы разом*/ isOwner={!this.props.match.params.userId} />\r\n\t  )\r\n\t}\r\n}\r\n\r\nexport default ProfileAPIComponent","import React from 'react';\r\n\r\nimport {getUserProfileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator, savePhotoThunkCreator, saveInfoThunkCreator} from '../../redux/profile-reducer.js'\r\nimport ProfileAPIComponent from './ProfileAPIComponent.js'\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect.js'\r\nimport {compose} from 'redux'\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n    \tprofile: state.profile.userProfile,\r\n    \tisAuth: state.auth.isAuth,\r\n        status: state.profile.status,\r\n        AuthUserId: state.auth.id\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    \tgetUserProfile: (userId) => { dispatch(getUserProfileThunkCreator(userId) ) },\r\n        getStatus: (userId) => { dispatch(getStatusThunkCreator(userId) ) },\r\n        updateStatus: (status) => { dispatch(updateStatusThunkCreator(status) ) },\r\n        savePhoto: (file) => { dispatch(savePhotoThunkCreator(file) ) },\r\n        saveInfo:(info) => { dispatch(saveInfoThunkCreator(info) )}\r\n    }\r\n}\r\n\r\n\r\n/*\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(ProfileAPIComponent)\r\n\r\n\r\nlet withUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n\r\n\r\nconst ProfileContainer = connect(mapStateToProps, mapDispatchToProps)(withUrlDataContainerComponent);\r\n\r\n\r\nexport default ProfileContainer;\r\n*/\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileAPIComponent);","import React from 'react';\r\nimport fr from './friends.module.css';\r\n\r\nimport userPhoto from '../../assets/img/ava.png'\r\n\r\nimport * as axios from 'axios'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nfunction Friends_item(props) {\r\n\treturn (\r\n\t\t<div className={fr.friends_item}>\r\n\t\t\t<img src={props.photo} className={fr.ava} />\r\n\t\t\t{props.name}\r\n\t\t\t<div className={fr.status}>\r\n\t\t\t\t\"{props.status}\"\r\n\t\t\t</div>\r\n\t\t\t<div className={fr.location}>\r\n\t\t\t\t{props.location}\r\n\t\t\t</div>\r\n\t\t\t<div className={fr.button}>\r\n\t\t\t\t<button onClick={ () => {} }>Удалить из друзей</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nfunction Friends(props) {\r\n\r\n\tif(props.friendsData.length === 0) {\r\n\r\n\t\taxios.get(\"https://social-network.samuraijs.com/api/1.0/users\").then(response => {\r\n\t\t\tprops.setFriends(response.data.items) \t\t\t\r\n\t\t})\t\t\r\n\t}\r\n\r\n\r\n\tlet friendElements = props.friendsData.map( (f) => {\r\n\t\treturn (<Friends_item \r\n\t\t\tname={f.name} \r\n\t\t\tkey={f.id}\r\n\t\t\tstatus={f.status} \r\n\t\t\tlocation={f.location}\r\n\t\t\tphoto={f.photos.small != null ? f.photos.small : userPhoto} />)\r\n\t});\r\n\r\n\r\n\tlet newUFriendsElement = React.createRef();\r\n\r\n\r\n\tfunction onFriendsChange() {\r\n\t\tlet text = newUFriendsElement.current.value\r\n\t\tprops.updateNewFriendSeekText(text);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className={fr.friends}>\r\n\t\t\t<input \r\n\t\t\t\tonChange={onFriendsChange} \r\n\t\t\t\tvalue={props.newFriendSeekText} \r\n\t\t\t\tplaceholder=\"Поиск\"\r\n\t\t\t\tref={newUFriendsElement} />\r\n\t\t\t{friendElements}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Friends;","const UPDATE_NEW_FRIENDS_SEEK_TEXT = 'UPDATE-NEW-FRIENDS-SEEK-TEXT'\r\nconst SET_FRIENDS = 'SET-FRIENDS'\r\n\r\n\r\n\r\nlet initialState = {\r\n\tfriendsData : [\r\n\t],\r\n\r\n\tnewFriendSeekText: \"\",\r\n}\r\n\r\n\r\n\r\nfunction friendsReducer(state = initialState, action) {\r\n\t\r\n\tif(action.type === UPDATE_NEW_FRIENDS_SEEK_TEXT) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tnewFriendSeekText: action.newText\r\n\t\t};\r\n\t} else if(action.type === SET_FRIENDS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tfriendsData: [ ...state.friendsData, ...action.friendsData ],\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function updateNewFriendSeekTextAC (text) {\r\n\treturn {\r\n\t\ttype: UPDATE_NEW_FRIENDS_SEEK_TEXT,\r\n\t\tnewText: text,\r\n\t}\r\n}\r\n\r\n\r\nexport function setFriendsAC(friendsData) {\r\n\treturn {\r\n\t\ttype: SET_FRIENDS,\r\n\t\tfriendsData,\r\n\t}\r\n}\r\n\r\n\r\nexport default friendsReducer;","import React from 'react';\r\n\r\nimport Friends from './Friends.js'\r\nimport {updateNewFriendSeekTextAC, setFriendsAC} from '../../redux/friends-reducer'\r\n\r\nimport {connect} from 'react-redux'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect.js'\r\nimport {compose} from 'redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriendsData: state.friends.friendsData,\r\n\t\tnewFriendSeekText: state.friends.newFriendSeekText,\r\n\t\tisAuth: state.auth.isAuth,\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateNewFriendSeekText: (text) => { dispatch( updateNewFriendSeekTextAC(text) ) },\r\n\t\tsetFriends: (friendsData) => { dispatch( setFriendsAC(friendsData) ) },\r\n\t}\r\n}\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Friends)\r\n\r\n/*\r\nlet AuthRedirectComponent = withAuthRedirect(Friends)\r\n\r\n\r\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\r\n\r\n\r\nexport default FriendsContainer\r\n*/","export function required(value) {\r\n\tif(value) {\r\n\t\treturn undefined\r\n\t} else {\r\n\t\treturn 'error message'\t\t\r\n\t}\t\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif(value.length > maxLength) {\r\n\t\treturn `Max length is ${maxLength} symbols`\r\n\t} else {\r\n\t\treturn undefined\t\t\r\n\t}\t\r\n}","import React from 'react'\r\nimport fm from './formsControls.module.css'\r\n\r\n\r\nexport function Input({input, meta, ...props}) {\r\n\r\n\tlet hasError = meta.touched && meta.error\r\n\treturn(\r\n\t\t<div className={fm.form + \" \" + (hasError ? fm.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t<input {...input} {...props} />\r\n\t\t\t</div>\r\n\t\t\t{hasError ? <span>{meta.error}</span> : <span></span>}\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react';\r\nimport lg from './login.module.css';\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {required, maxLengthCreator} from '../../utils/validators.js'\r\nimport {Input} from '../common/FormsControls/FormsControls.js'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nlet maxLength20 = maxLengthCreator(20)\r\n\r\n\r\nfunction LoginForm(props) {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tvalidate={[required, maxLength20]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\" \r\n\t\t\t\t\tname=\"password\" \r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tvalidate={[required, maxLength20]} />\r\n\t\t\t</div>\r\n\t\t\t{props.error ?\r\n\t\t\t\t<div className={lg.error}>\r\n\t\t\t\t\t{props.error}\r\n\t\t\t\t</div>\r\n\t\t\t\t: <span></span>}\r\n\t\t\t<div>\r\n\t\t\t\t<Field \r\n\t\t\t\t\ttype=\"checkbox\" name=\"rememberMe\" component={Input} /> Remember me\r\n\t\t\t</div>\r\n\t\t\t{props.captchaUrl ? <img src={props.captchaUrl} /> : null}\r\n\t\t\t{props.captchaUrl ? <Field \r\n\t\t\t\t\tplaceholder=\"captcha\" \r\n\t\t\t\t\tcomponent={Input} \r\n\t\t\t\t\tname=\"captcha\" \r\n\t\t\t\t\tvalidate={required} /> : null}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login</button>\r\n\t\t\t</div>\r\n\r\n\t\t</form>\t\t\r\n\t)\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({\r\n\tform: 'login'\r\n})(LoginForm)\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Login(props) {\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n\t}\r\n\r\n\tif(props.isAuth) {\r\n\t\treturn\t<Redirect to={\"/profile\"} />\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className={lg.login}>\r\n\t\t\t<div className={lg.reg}>\r\n\t\t\t\t<h2>Login</h2>\r\n\t\t\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nimport {loginThunkCreator, logoutThunkCreator} from '../../redux/auth-reducer.js'\r\nimport /*LoginAPIComponent*/ Login from /*'./LoginAPIComponent.js'*/ './Login.js'\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tcaptchaUrl: state.auth.captchaUrl\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tlogin: (email, password, rememberMe, captcha) => { dispatch( loginThunkCreator(email, password, rememberMe, captcha) ) },\r\n\t\tlogout: () => { dispatch( logoutThunkCreator() ) }\r\n\t}\r\n}\r\n\r\n\r\nconst LoginContainer = connect(mapStateToProps, mapDispatchToProps)(/*LoginAPIComponent*/ Login);\r\n\r\n\r\nexport default LoginContainer","import React from 'react';\r\nimport mu from './music.module.css';\r\n\r\n\r\n\r\nfunction Music() {\r\n\treturn (\r\n\t\t<div className={mu.music}>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Music;","import {getUserDataThunkCreator} from './auth-reducer.js'\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS'\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\n\r\nfunction appReducer(state = initialState, action) {\r\n\r\n\r\n\tif(action.type === INITIALIZED_SUCCESS) {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tinitialized: true,\r\n\t\t};\r\n\t} \r\n\r\n\t\r\n\r\n\treturn state;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction initializedSuccess() {\r\n\treturn {\r\n\t\ttype: INITIALIZED_SUCCESS,\t\t\r\n\t}\r\n}\r\n\r\n\r\nexport const initializeAppThunkCreator = () => {\r\n\treturn (dispatch) => {\r\n\t\tlet promise = dispatch(getUserDataThunkCreator())\r\n\t\tPromise.all([promise])\r\n\t\t.then( () => {\r\n\t\t\tdispatch(initializedSuccess())\r\n\t\t}) \r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import React from 'react';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\treturn (props) => (\r\n\t\t<React.Suspense fallback={<div className=\"Loading\">Loading...</div>}>\r\n\t\t\t<Component {...props} />\r\n\t\t</React.Suspense>\r\n\t)\r\n}","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\n\r\nimport profileReducer from './profile-reducer.js'\r\nimport dialogueReducer from './dialogue-reducer.js'\r\nimport friendsReducer from './friends-reducer.js'\r\nimport usersReducer from './users-reducer.js'\r\nimport authReducer from './auth-reducer.js'\r\nimport appReducer from './app-reducer.js'\r\n\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\n\r\nlet reducers = combineReducers({\r\n\tprofile: profileReducer,\r\n\tdialogue: dialogueReducer,\r\n\tfriends: friendsReducer,\r\n\tusers: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n});\r\n\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));   - как было до использования хрумовского Redux DevTools\r\n//window.store = store;  - не нужен так как можно посмотреть данные State в Redux DevTools\r\n\r\nexport default store;","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport HeaderContainer from \"./components/Header/HeaderContainer.js\"\nimport Links from \"./components/Links/Links.js\"\nimport ProfileContainer from \"./components/Profile/ProfileContainer.js\"\n//import Dialogue from \"./components/Dialogue/Dialogue.js\" \nimport FriendsContainer from \"./components/Friends/FriendsContainer.js\"\n//import UsersContainer from \"./components/Users/UsersContainer.js\"\nimport LoginContainer from \"./components/Login/LoginContainer.js\"\nimport Music from \"./components/Music/Music.js\"\n\nimport preloader from \"./assets/img/preloader.svg\"\n\nimport {Route} from \"react-router-dom\"\nimport {connect} from 'react-redux'\nimport {compose} from 'redux'\nimport {withRouter} from 'react-router-dom'\nimport {initializeAppThunkCreator} from './redux/app-reducer.js'\nimport {withSuspense} from './hoc/withSuspense.js'\n\nimport store from './redux/redux-store.js'\nimport {Provider} from 'react-redux'\nimport {BrowserRouter} from \"react-router-dom\"\n\nconst Dialogue = React.lazy( () => import(\"./components/Dialogue/Dialogue.js\"))\nconst UsersContainer = React.lazy( () => import(\"./components/Users/UsersContainer.js\"))\n\n\n\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.initializeAppThunkCreator()\n\t}\t\n\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn (\n\t\t\t\tnull\n\t\t)}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t  <HeaderContainer />\n\t\t\t  <div className=\"container\">\n\t\t\t    <Links />\n\n\t\t\t    <Route path=\"/profile/:userId?\" render={ () => <ProfileContainer />} />\n\n\t\t\t    <Route path=\"/friends\" render={ () => <FriendsContainer />} />\n\t\t\t    \n\t\t\t    <Route path=\"/dialogue\" render={withSuspense(Dialogue)} />\n\n\t\t\t    <Route path=\"/music\" render={ () => <Music />} />\n\n\t\t\t    <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n\n\t\t\t    <Route path=\"/login\" render={ () => <LoginContainer />} />\n\t\t\t  </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n\nlet mapStateToProps = (state) => {\n\treturn {\n\t\tinitialized: state.app.initialized\n\t}\n}\n\n\n\n\nlet AppContainer = compose(\n\tconnect(mapStateToProps, {initializeAppThunkCreator}),\n\twithRouter\n)(App)\n\n\n\nlet MainApp = (props) => {\n\treturn(\n\t  \t<Provider store={store}>\n\t  \t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t    \t<AppContainer />\n\t\t    </BrowserRouter>\n\t\t</Provider>\n\t)\n}\n\nexport default MainApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\nimport MainApp from './App';\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n \t<MainApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/ava.c145c92d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"friends_friends__3lCVm\",\"friends_item\":\"friends_friends_item__1Nz7Z\",\"ava\":\"friends_ava__3zzUu\",\"status\":\"friends_status__2IzFl\",\"location\":\"friends_location__2qj_S\",\"button\":\"friends_button__59NZa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__3kDcM\",\"block\":\"post_block__1i8TN\",\"name\":\"post_name__3KHp-\",\"ava\":\"post_ava__1tv7k\",\"like\":\"post_like__3c6fo\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.48d2f088.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box_avatar\":\"avatar_box_avatar__1Is0t\",\"avatar\":\"avatar_avatar__20MNM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__3CsZ_\",\"status_item\":\"status_status_item__N8TvA\",\"status_not_yours\":\"status_status_not_yours__Z5e2-\",\"status_editMode\":\"status_status_editMode__3xJPI\"};","import React from 'react';\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif(this.props.isAuth === false) return <Redirect to='/login' />\r\n\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\treturn RedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__VHtov\",\"container\":\"header_container__15CE4\",\"logout\":\"header_logout__1AARQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"profile_Profile__3Ko6P\",\"col1\":\"profile_col1__3FTuu\",\"avatar\":\"profile_avatar__YBUlS\",\"col2\":\"profile_col2__26V_Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__3t-j8\",\"reg\":\"login_reg__2ivQY\",\"error\":\"login_error__2zvcj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPost_posts__1wvkX\",\"MyPosts\":\"MyPost_MyPosts__3HMtA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"formsControls_form__3jx_M\",\"error\":\"formsControls_error__4b0wm\"};"],"sourceRoot":""}