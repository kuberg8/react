{"version":3,"sources":["components/Users/users.module.css","components/Users/Users.js","components/Users/UsersAPIComponent.js"],"names":["module","exports","Users","props","className","us","users","usersData","map","u","users_item","to","id","src","photos","small","userPhoto","ava","name","status","location","button","followed","disabled","followingProcess","some","onClick","unfollowThunk","followThunk","length","Paginator","totalUsersCount","onPageChanged","currentPage","portionSize","pageSize","Preloader","isFetching","UsersAPIComponent","pageNumber","setState","usersAPI","getUsers","state","then","response","items","totalCount","this","React","Component"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,WAAa,0BAA0B,IAAM,mBAAmB,OAAS,sBAAsB,SAAW,wBAAwB,OAAS,wB,yJCoE3KC,MA9Df,SAAeC,GACb,OACE,yBAAKC,UAAWC,IAAGC,OAChBH,EAAMI,UAAUC,KAAI,SAACC,GACpB,OACE,yBAAKL,UAAWC,IAAGK,YACjB,kBAAC,IAAD,CAASC,GAAI,YAAcF,EAAEG,IAC3B,yBACEC,IAAuB,MAAlBJ,EAAEK,OAAOC,MAAgBN,EAAEK,OAAOC,MAAQC,IAC/CZ,UAAWC,IAAGY,OAIjBR,EAAES,KAEFT,EAAEU,OACD,yBAAKf,UAAWC,IAAGc,QAAnB,IAA6BV,EAAEU,OAA/B,KAEA,+BAGF,yBAAKf,UAAWC,IAAGe,UAAWX,EAAEW,UAChC,yBAAKhB,UAAWC,IAAGgB,QAChBZ,EAAEa,SACD,4BACEC,SAAUpB,EAAMqB,iBAAiBC,MAAK,SAACb,GAAD,OAAQA,IAAOH,EAAEG,MACvDc,QAAS,WACPvB,EAAMwB,cAAclB,EAAEG,MAH1B,gGASA,4BACEW,SAAUpB,EAAMqB,iBAAiBC,MAAK,SAACb,GAAD,OAAQA,IAAOH,EAAEG,MACvDc,QAAS,WACPvB,EAAMyB,YAAYnB,EAAEG,MAHxB,qGAcTT,EAAMI,UAAUsB,OAAS,EACxB,kBAACC,EAAA,EAAD,CACEC,gBAAiB5B,EAAM4B,gBACvBC,cAAe7B,EAAM6B,cACrBC,YAAa9B,EAAM8B,YACnBC,YAAa,EACbC,SAAUhC,EAAMgC,WAEhB,KAEJ,kBAACC,EAAA,EAAD,CAAWC,WAAYlC,EAAMkC,e,QC5D7BC,E,kDACJ,WAAYnC,GAAQ,IAAD,8BACjB,cAAMA,IAwBR6B,cAAgB,SAACO,GACf,EAAKC,SAAS,CAAEH,YAAY,EAAMJ,YAAaM,IAC/CE,IAASC,SAASH,EAAY,EAAKI,MAAMR,UAAUS,MAAK,SAACC,GACvD,EAAKL,SAAS,CACZjC,UAAWsC,EAASC,MACpBf,gBAAiBc,EAASE,WAC1BV,YAAY,QA7BhB,EAAKM,MAAQ,CACXpC,UAAW,GACX4B,SAAU,EACVJ,gBAAiB,EACjBE,YAAa,EACbI,YAAY,EACZb,iBAAkB,IARH,E,gEAYE,IAAD,OAClBwB,KAAKR,SAAS,CAAEH,YAAY,IAC5BI,IACGC,SAASM,KAAKL,MAAMV,YAAae,KAAKL,MAAMR,UAC5CS,MAAK,SAACC,GACL,EAAKL,SAAS,CACZjC,UAAWsC,EAASC,MACpBf,gBAAiBc,EAASE,WAC1BV,YAAY,S,+BAiBlB,OAAO,kBAAC,EAAD,iBAAWW,KAAKL,MAAhB,CAAuBX,cAAegB,KAAKhB,qB,GAtCtBiB,IAAMC,WA0CvBZ","file":"static/js/4.2bd88994.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"users_users__uBYSP\",\"users_item\":\"users_users_item__1ApVL\",\"ava\":\"users_ava__2zXBZ\",\"status\":\"users_status__2T9J0\",\"location\":\"users_location__5hm6M\",\"button\":\"users_button__31d6P\"};","import React, { useState } from \"react\";\r\nimport us from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/img/ava.png\";\r\nimport Preloader from \"../common/preloader/Preloader.js\";\r\nimport Paginator from \"../common/paginator/Paginator.js\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction Users(props) {\r\n  return (\r\n    <div className={us.users}>\r\n      {props.usersData.map((u) => {\r\n        return (\r\n          <div className={us.users_item}>\r\n            <NavLink to={\"/profile/\" + u.id}>\r\n              <img\r\n                src={u.photos.small != null ? u.photos.small : userPhoto}\r\n                className={us.ava}\r\n              />\r\n            </NavLink>\r\n\r\n            {u.name}\r\n\r\n            {u.status ? (\r\n              <div className={us.status}>\"{u.status}\"</div>\r\n            ) : (\r\n              <span></span>\r\n            )}\r\n\r\n            <div className={us.location}>{u.location}</div>\r\n            <div className={us.button}>\r\n              {u.followed ? (\r\n                <button\r\n                  disabled={props.followingProcess.some((id) => id === u.id)}\r\n                  onClick={() => {\r\n                    props.unfollowThunk(u.id);\r\n                  }}\r\n                >\r\n                  Удалить из друзей\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  disabled={props.followingProcess.some((id) => id === u.id)}\r\n                  onClick={() => {\r\n                    props.followThunk(u.id);\r\n                  }}\r\n                >\r\n                  Добавить в друзья\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      {props.usersData.length > 0 ? (\r\n        <Paginator\r\n          totalUsersCount={props.totalUsersCount}\r\n          onPageChanged={props.onPageChanged}\r\n          currentPage={props.currentPage}\r\n          portionSize={3}\r\n          pageSize={props.pageSize}\r\n        />\r\n      ) : null}\r\n\r\n      <Preloader isFetching={props.isFetching} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport Users from \"./Users.js\";\r\nimport { usersAPI } from \"../../api/api.js\";\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      usersData: [],\r\n      pageSize: 5,\r\n      totalUsersCount: 0,\r\n      currentPage: 1,\r\n      isFetching: false,\r\n      followingProcess: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ isFetching: true });\r\n    usersAPI\r\n      .getUsers(this.state.currentPage, this.state.pageSize)\r\n      .then((response) => {\r\n        this.setState({\r\n          usersData: response.items,\r\n          totalUsersCount: response.totalCount,\r\n          isFetching: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.setState({ isFetching: true, currentPage: pageNumber });\r\n    usersAPI.getUsers(pageNumber, this.state.pageSize).then((response) => {\r\n      this.setState({\r\n        usersData: response.items,\r\n        totalUsersCount: response.totalCount,\r\n        isFetching: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return <Users {...this.state} onPageChanged={this.onPageChanged} />;\r\n  }\r\n}\r\n\r\nexport default UsersAPIComponent;\r\n"],"sourceRoot":""}